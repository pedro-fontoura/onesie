// Build: January 31 2026 18:01

export const BUNDLE_URL = import.meta.url.split( '/' ).pop();

export const BUNDLE_ID = "2026-0131-1801";

function t(t){return document.getElementById(t)}class i{static get M47(){return window.location.href.includes("nighthawk.home")}static get M64(){return screen.orientation&&screen.orientation.type?screen.orientation.type.includes("landscape"):window.innerWidth>window.innerHeight}static get M117(){return navigator.maxTouchPoints>0}static get M88(){return navigator.userAgentData&&"Android"===navigator.userAgentData.platform||/android/i.test(navigator.userAgent)}static get M37(){const t=window.matchMedia("(display-mode: standalone)").matches,i=!0===window.navigator.standalone;return t||i}static get M172(){return/iPad|iPhone|iPod/.test(navigator.userAgent)||/Mac/.test(navigator.userAgent)&&navigator.maxTouchPoints>1}static M5(t,i,e){Object.defineProperty(t,i,{value:e,writable:!1,enumerable:!0,configurable:!1})}static M11(t,i){if(!Array.isArray(t))return;const e=t.indexOf(i);-1!==e&&t.splice(e,1)}static M12(t){if(!Array.isArray(t))return t;for(let i=t.length-1;i>0;i--){const e=Math.floor(Math.random()*(i+1));[t[i],t[e]]=[t[e],t[i]]}return t}static M24(t){return function(){let i=t+=1831565813;return i=Math.imul(i^i>>>15,1|i),i^=i+Math.imul(i^i>>>7,61|i),((i^i>>>14)>>>0)/4294967296}}static M89(t){let i=0;for(let e=0;e<t.length;e++)i=(i<<5)-i+t.charCodeAt(e),i|=0;return i}static M17(t,i=null,e=!1){let s=new URLSearchParams(window.location.search).get(t);if(null===s)return i;if(e){const t=parseInt(s,10);return isNaN(t)?i:t}return s}static M65(t,i=document.documentElement,e=null){t.startsWith("--")||(t="--"+t);const s=window.getComputedStyle(i).getPropertyValue(t).trim();return""===s?e:s.replace(/^['"]|['"]$/g,"")}static M18(){if(i.M172)return;const t=document.documentElement,e=t.requestFullscreen||t.webkitRequestFullscreen;if(!e)return;const s=i.M88?{navigationUI:"hide"}:{};e.call(t,s).catch(t=>{})}static M19(t){const i=document.querySelector('script[type="importmap"]');if(!i)throw new Error('GetImportMapValue » <script type="importmap"> not found in DOM.');const e=JSON.parse(i.textContent),s=e.imports?.[t];if(void 0===s)throw new Error("GetImportMapValue » Key not found in imports: "+t);return s}static M48(t,i=0){if("string"!=typeof t)return t;let e="";for(let s=0;s<t.length;s++){const n=t.charCodeAt(s);e+=String.fromCharCode(n+i)}return e}static M144(t,i,e){const s=t.style;s.width=i+"px",s.height=e+"px"}static M102(t,i,e,s,n){const r=t.style;r.width=i+"px",r.height=e+"px",r.left=s+"px",r.top=n+"px"}}class e{static get M173(){return(1+Math.sqrt(5))/2}static get M174(){return 2*Math.PI}static get M145(){return Math.PI/2}static get M66(){return Math.PI/180}static get M49(){return 180/Math.PI}static M146(t){return t*e.M66}static M147(t){return t*e.M49}static M103(t,i){return Math.floor(Math.random()*(i-t+1))+t}static M67(t,i){return t+Math.random()*(i-t)}static M50(t=.5){return Math.random()<t}static M25(t){return function(){let i=t+=1831565813;return i=Math.imul(i^i>>>15,1|i),i^=i+Math.imul(i^i>>>7,61|i),((i^i>>>14)>>>0)/4294967296}}static M204(t,i,e){return t+(i-t)*e}static M194(t,i,e,s,n){return s+(t-i)*(n-s)/(e-i)}static M195(t,i,e){return Math.max(i,Math.min(t,e))}static M118(t,i,e,s){return Math.hypot(e-t,s-i)}static M148(t,i,e=2){if(i<=0)return 0;const s=t/i;return 1-Math.pow(s,e)}}var s="busy",n="success",r="fail",h="mk-room",o="room-decision",a="face-room",l="turn_ended",c="msg#deck:seed",u="user_error",d="ui:update",_="ui_click",M="game_over",p="location:unknown",f="location:draw",m="location:discard",g="location:room",w="location:hand",y=Object.defineProperty,v=class t{static K103=100;static K108=199;static K16=100;#t=0;#i=0;#e=100;#s=-1;#n=0;#r=0;#h=null;#o=null;#a=!1;#l=0;#c=0;#u=0;#d=0;#_=0;#M=0;#p=!1;#f=[];#m=!0;#g=!1;constructor(e,s,n=!1,r=0,h={}){i.M5(this,"IDX",e),i.M5(this,"ID",s);const{parent:o=null,is_box:a=!1}=h;i.M5(this,"IS_BOX",a),this.#l=r||t.K16,!0===n?this.#h=document.createElement("div"):n instanceof Node&&(this.#h=n),this.#h&&(this.#w(),o instanceof Node&&o.appendChild(this.#h))}#w(){i.M5(this,"ELEMENT",this.#h),this.#h.id=this.ID,this.#h.style.position="absolute",this.#h.style.top="0px",this.#h.style.left="0px",this.#h.style.zIndex=this.#e,this.#h.classList.add("FlexBoxEntity"),this.#h.dataset.smooth=this.#a?"yes":"no",this.#h.addEventListener("transitionend",this.#y.bind(this))}M149(){return this.#h&&(this.#h.remove(),this.#h=null,this.#f=null),this}M68(){return this.#h.offsetWidth,this}M90(){return this.#h}M119(){return this.#n}M104(){return this.#r}M175(){return this.#t}M150(){return this.#i}M102(t,i,e,s){this.#n=0|t,this.#r=0|i,s|=0,e|=0;const n=this.#t!==s||this.#i!==e;return n&&(this.#t=s,this.#i=e),this.#v(n),this}#b(){const t=window.getComputedStyle(this.#h).translate;t&&"none"!==t||(this.#u=0,this.#c=0);const i=t.split(" ");this.#u=parseFloat(i[0])||0,this.#c=parseFloat(i[1])||0}M69(t,i){if(t|=0,i|=0,this.#t===i&&this.#i===t)return this;if(this.#a){const e=this.M1(t,i);this.#E(e)}return this.#t=i,this.#i=t,this.#v(!0),this}M1(t,i){this.#b();const e=t-this.#u,s=i-this.#c;return Math.sqrt(e*e+s*s)/this.#l}M144(t,i){return t|=0,i|=0,this.#n===t&&this.#r===i||(this.#n=t,this.#r=i,this.#v(!1)),this}#v(t=!0){this.#x();const i=this.#h.style;i.width=this.#n+"px",i.height=this.#r+"px",t?(i.translate=this.#i+"px "+this.#t+"px 0px",this.#a&&(i.zIndex=199+this.#s)):i.zIndex=this.#e}#y(t){"translate"===t.propertyName&&(this.#b(),Math.abs(this.#u-this.#i)<1&&Math.abs(this.#c-this.#t)<1&&(this.#h.style.zIndex=this.#e,this.#p&&this.#k()))}M38(){return this.#M>0}M120(){return this.#M>0}M121(){return this.#M>0}#k(){const t=this.#f.length;for(let i=0;i<t;i++)this.#f[i](this);this.#f.length=0}M105(t=!0){return this.#a=!!t,this.#h.dataset.smooth=this.#a?"yes":"no",this}M122(){return this.#a}M70(t){return"function"!=typeof t?this:this.#p?(this.#f.push(t),this):void 0}M7(){this.#f.length=0}M13(t=!0){return this.#p=!!t,this}Error(t,i,...e){this.constructor.name,e.length>0&&e.forEach((t,i)=>{})}M106(){return this.#s}M107(t=-1){return this.#s=t,this}M176(t,i=-1){return null!==this.#o?(this.Error("SetBox","Already set",this.#o,t),this):(this.#o=t,i>=0&&(this.#s=i),this)}M123(){return this.#o=null,this.#s=-1,this}M177(){return this.#o}M205(t){return this.#o===t}M178(){return null!==this.#o}#E(t){return!Number.isFinite(t)||t<0?(this.Error("SetTranslationTime","Bad number",t),this):this.#h?(this.#h.style.transitionDuration=t+"ms",this):this}M26(i=0){return this.#l=i||t.K16,this}M206(t){return t|=0,this.#e===t||(this.#e=t,this.#h.style.zIndex=t),this}M124(t){return!Number.isFinite(t)||t<0?(this.Error("SetBaseZ","Bad number",t),this):(t|=0,this.#e<t&&(this.#e=t),this.#h.style.zIndex=t,this)}#x(){this.#d=this.#t+(this.#r>>1),this.#_=this.#i+(this.#n>>1)}M51(){return this.#d}M39(){return this.#_}M4(t,i){const e=t-this.#i,s=i-this.#t;return Math.sqrt(e*e+s*s)/this.#l}M108(){return this.#m}M125(){return!this.#m}M91(t=!0){return t=!!t,this.#m===t||(this.#m=t,this.M15(t)),this}M40(){return this.#m=!this.#m,this.M15(this.#m),this}M92(){return this.#g}M71(t=!0){return t=!!t,this.#g===t||(this.#g=t,this.M20(t)),this}M30(){return this.#g=!this.#g,this.M20(this.#g),this}},b=1/0,E=class extends v{static K115=11;static K104=12;static K105=3;static K109=1;static K116=2;static K106=4;static K99=5;static K107=6;static K110=7;#L=11;#C=!0;#I=[];#A=null;#N=null;#T=null;#D=b;#K=0;#R=0;#S=0;#P=0;#O=!1;#B=0;#V=0;#F=!1;#z=0;#U=0;#H=v.K103;#j=null;#G=null;#q=null;#W=null;#Y=!1;#X=0;#$=!1;constructor(t,i,e,s,n,r=!1,h={}){const{max_count:o=b,sorting:a=null,tuck:l=!1,uniform:c=!1,parent:u=null,velocity_px_ms:d=0,reverse_z:_=!1}=h;super(t,i,r,d,{is_box:!0,parent:u}),this.#D=o,this.M72(_),this.#L=e,11!==e&&12!==e&&this.Error("FlexBox","Bad orientation",e),this.#C=11===this.#L,"function"==typeof a&&(this.#A=a);const M=Number.isFinite(this.#D)?this.#D:64;this.#j=new Int32Array(M),this.#G=new Int32Array(M),s=s||4,this.#T=this.#J(s),3!==(n=n||3)&&1!==n&&2!==n&&this.Error("FlexBox","Bad align",n),this.#N=this.#J(n),this.#F=c,l>0&&this.M151(l),this.ELEMENT&&this.ELEMENT.classList.add("FlexBox")}M149(){super.M149(),this.#I=null,this.#N=null,this.#T=null,this.#A=null}#Q(t,i){if(t.length<i){const e=t.length<<1;t=new Int32Array(e>i?e:i)}return t}M215(t,i=!0){if(!(t instanceof v))return this.Error("Add","Not a FlexBoxEntity",t),this;if(this.#I.includes(t))return this.Error("Add","Already here",t),this;if(this.M182())return this.Error("Add","I am full",t),this;t.M178()&&t.M177().M181(t),i?this.#I.push(t):this.#I.unshift(t);const e=this.#I.length;let s=!i&&e>1;return t.M176(this,i?this.#I.length-1:0),this.#Q(this.#j,e),this.#Q(this.#G,e),null!==this.#A&&(this.#I.sort(this.#A),s=!0),s&&this.#Z(),this.#F?(0!==this.#z&&0!=this.#U||(this.#z=t.M119(),this.#U=t.M104(),this.#Y>0&&this.#tt()),this.#B+=this.#z,this.#V+=this.#U):(this.#B+=t.M119(),this.#V+=t.M104()),this.#O=!0,this.M8(),this}M179(t){return this.M215(t,!1)}M180(t){return this.M215(t,!0)}M181(t){return t instanceof v?this.#I.includes(t)?(t.M123(),t.M7(),i.M11(this.#I,t),this.#Z(),this.#F?(this.#B-=this.#z,this.#V-=this.#U):(this.#B-=t.M119(),this.#V-=t.M104()),this.#O=!0,this.M8(),this):(this.Error("Remove","Not here",t.ID),this):(this.Error("Remove","Not a FlexBoxEntity",t),this)}M144(t,i){t|=0,i|=0,super.M144(t,i),this.#K=t,this.#R=i}M102(t,i,e,s,n=!0){return t|=0,i|=0,e|=0,s|=0,super.M102(t,i,e,s),this.#K=t,this.#R=i,this.#P=e,this.#S=s,n&&this.M8(),this}M27(t,i,e=-1){return this.#z=0|t,this.#U=0|i,this.#Y>0&&this.#tt(),this.#F=!0,this.#O=!1,e>=0&&(this.#H=e),this.M14(),this}M72(t=!0){this.#$=!!t,this.M8()}M28(t=-1){t>=0&&(this.#H=0|t)}M14(){let t=0,i=0;const e=this.#I.length;if(e>0){if(this.#F){if(0===this.#z||0===this.#U){const t=this.#I[0];this.#z=t.M119(),this.#U=t.M104(),this.#Y>0&&this.#tt()}t=e*this.#z,i=e*this.#U}else for(let s,n=0;n<e;n++)s=this.#I[n],t+=s.M119(),i+=s.M104();(isNaN(t)||isNaN(i))&&this.Error("UpdateEntitiesSize","total width/height is NaN"),(t<0||i<0)&&this.Error("UpdateEntitiesSize","total width/height is negative",t,i)}return this.#B=t,this.#V=i,this.#O=!0,this}#it(t=-1){if(-1===t&&(t=this.#I.length),0===t)return this;this.#O||this.M14();const i=this.#C;let e=i?this.#B:this.#V,s=this.#Y&&t>1;if(s){const n=i?this.#K:this.#R;s=e>n,s&&(this.#et(t,n,e),e-=(t-1)*this.#X)}return i?(this.#q=this.#T(!0,!0,e,t),this.#W=this.#N(!1,!1,this.#V,t)):(this.#W=this.#T(!0,!1,e,t),this.#q=this.#N(!1,!0,this.#B,t)),s&&this.#st(i,t),t}#et(t,i,e){this.#C?this.#z:this.#U;const s=(e-i)/(t-1);this.#X=s}#st(t,i){const e=t?this.#q:this.#W;for(let t=1;t<i;t++)e[t]-=t*this.#X}M151(t=!0){this.#Y=!!t,this.#Y&&this.M8()}M126(t){return this.#F||0===t?t<0||t>1?(this.Error("SetTuck","Tuck must be [ 0 .. 1 ]",t),this):(this.#Y=t,this.#tt(),void(this.#I.length>1&&this.M8())):(this.Error("SetTuck","Cannot tuck non-uniform entities"),this)}#tt(){if(!this.#F)return void(this.#X=0);const t=this.#C?this.#z:this.#U;this.#X=t*this.#Y|0}M69(t,i){super.M69(t,i),this.#P=t,this.#S=i}M8(t=!0){const i=this.#I.length;if(0===i)return this;t&&this.#it(i);const e=this.#H;for(let t=0;t<i;t++){const s=this.#I[t];this.#$?s.M206(e+(i-t)):s.M206(e+t),s.M69(this.#q[t],this.#W[t]),s.IS_BOX&&s.M8(!0)}return this}#nt(t,i=-1){if(i<0&&(i=t.M106()),this.#$){const e=this.#I.length;t.M206(this.#H+(e-i))}else t.M206(this.#H+i);return t.M69(this.#q[i],this.#W[i]),this}#J(t){switch(t){case 3:return this.#rt.bind(this);case 1:return this.#ht.bind(this);case 2:return this.#ot.bind(this);case 4:return this.#at.bind(this);case 5:return this.#lt.bind(this);case 6:return this.#ct.bind(this);case 7:return this.#ut.bind(this)}}#dt(t,i,e){const s=(t?this.#j:this.#G).subarray(0,e),n=i?this.#P:this.#S;var r=i?this.#z:this.#U;if(t&&this.#F)for(var h=0;h<e;++h)s[h]=n+h*r;else{var o=n;for(h=0;h<e;++h){if(t&&h>0){if(!this.#F){const t=this.#I[h-1];r=i?t.M119():t.M104()}o+=r}s[h]=o}}return s}#ht(t,i,e,s){return this.#dt(t,i,s)}#rt(t,i,e,s){const n=this.#dt(t,i,s),r=i?this.#K:this.#R,h=r-e>>1;var o=i?this.#z:this.#U;if(!t&&this.#F){const t=r-o>>1;for(var a=0;a<s;++a)n[a]+=t}else for(a=0;a<s;++a)if(t)n[a]+=h;else{if(!this.#F){const t=this.#I[a];o=i?t.M119():t.M104()}n[a]+=r-o>>1}return n}#ot(t,i,e,s){const n=this.#dt(t,i,s),r=i?this.#K:this.#R,h=Math.round(r-e);var o=i?this.#z:this.#U;if(!t&&this.#F){const t=r-o;for(var a=0;a<s;++a)n[a]+=t}else for(a=0;a<s;++a)if(t)n[a]+=h;else{if(!this.#F){const t=this.#I[a];o=i?t.M119():t.M104()}n[a]+=r-o}return n}#ut(t,i,e,s){const n=this.#dt(t,i,s),r=(i?this.#K:this.#R)>>1;var h=i?this.#z:this.#U;const o=n[0];for(var a=0;a<s;++a){if(!this.#F){const t=this.#I[a];h=i?t.M119():t.M104()}n[a]=o+r-(h>>1)}return n}#lt(t,i,e,s){if(s<2)return this.#ht(t,i,e,s);const n=this.#dt(t,i,s),r=i?this.#K:this.#R,h=Math.round((r-e)/(s-1));for(var o=1;o<s;++o)n[o]+=o*h;return n}#at(t,i,e,s){const n=this.#dt(t,i,s),r=i?this.#K:this.#R,h=Math.round((r-e)/(s+1));for(let t=0;t<s;++t)n[t]+=(t+1)*h;return n}#ct(t,i,e,s){if(s<2)return this.#rt(t,i,e,s);const n=this.#dt(t,i,s),r=((i?this.#K:this.#R)-e)/s,h=r>>1;for(let t=0;t<s;++t)n[t]+=h+t*r|0;return n}M73(t){return!Number.isFinite(t)||t<=0?(this.Error("SetMaxCount","Bad number",t),this):(this.#D=0|t,this)}M74(){return this.#D}M182(){return this.#I.length>=this.#D}M93(t){return"function"!=typeof t||(this.#A=t),this}M94(t){return this.#T=this.#J(t||4),this}M207(t){return"function"!=typeof t&&(t=this.#A),"function"!=typeof t||(this.#I.sort(t),this.#Z(),this.M8()),this}#Z(t=-1){if(t<0&&(t=this.#I.length),!(t<0))for(let i=0;i<t;++i)this.#I[i].M107(i)}M152(){const t=this.#I.length;return t<=1||(M12(this.#I),this.#Z(t),this.M8()),this}M153(){return 0===this.#I.length}M127(t){return this.#I.includes(t)}M128(){return this.#I.length}M154(t){if("function"!=typeof t)return this;const i=this.#I.length;for(let e,s=0;s<i;s++)e=this.#I[s],t(e);return this}M155(){return this.#I.length>0?this.#I[0]:null}M95(){if(this.#I.length<=0)return null;const t=this.#I[0];return this.M181(t),t}M156(){const t=this.#I.length;return t>0?this.#I[t-1]:null}M96(){const t=this.#I.length;if(t<=0)return null;const i=this.#I[t-1];return this.M181(i),i}M75(t){return t<0||t>=this.#I.length?(this.Error("GetEntityAt","Bad idx",t),null):this.#I[t]}M183(){return[...this.#I]}M76(t){return"function"!=typeof t?null:this.#I.filter(t)}M196(){const t=this.#I.length;if(0===t)return this;for(let i=0;i<t;i++){const t=this.#I[i];t.M123(),t.M7()}return this.#I.length=0,this.#B=0,this.#V=0,this.#O=!0,this}#_t(t=0){const i=this.#I.length+t;return i>this.#D?(this.Error("#PrepareBatchAdd","Total exceeds max_count",i),this):(i>0&&(this.#j=this.#Q(this.#j,i),this.#G=this.#Q(this.#G,i)),this)}M129(t,i=!0,e=0){const s=t.length;if(0===s)return this;if(this.M182())return this.Error("BatchAdd","I am full"),this;const n=this.M128()+s;if(n>this.M74())return this.Error("BatchAdd","Not enough space"),this;for(let i=0;i<s;i++){const e=t[i];if(!(e instanceof v))return this.Error("BatchAdd","Not a FlexBoxEntity",e),this;if(this.#I.includes(e))return this.Error("BatchAdd","Already here",e),this}const r=[...this.#I],h=r.length;this.#_t(s);for(let e=0;e<s;e++){const s=t[e];s.M178()&&s.M177().M181(s),s.M176(this),i?this.#I.push(s):this.#I.unshift(s);const n=this.#F?this.#z:s.M119(),r=this.#F?this.#U:s.M104();this.#B+=n,this.#V+=r}this.#O=!0,null!==this.#A&&this.#I.sort(this.#A),this.#Z(n),this.#it(n);for(let t=0;t<h;t++){const i=r[t];this.#nt(i)}if(0===e)for(let i=0;i<s;i++){const e=t[i];this.#nt(e)}else{let i=e;e<=1&&(i=this.M2(t[0])*e);let n=0;for(let e=0;e<s;e++){const s=t[e];setTimeout(()=>{this.#nt(s)},n),n+=i}}return this}M77(t=null,e=0){const s=null===t?[...this.#I]:t,n=s.length;if(0===n)return this;for(let t=0;t<n;t++){const i=s[t];if(!(i instanceof v))return this.Error("BatchRemove","Not a FlexBoxEntity",i),this;if(!this.#I.includes(i))return this.Error("BatchRemove","Not here",i),this}for(let t=n-1;t>=0;t--){const e=s[t];i.M11(this.#I,e),e.M123(),e.M7();const n=this.#F?this.#z:e.M119(),r=this.#F?this.#U:e.M104();this.#B-=n,this.#V-=r}this.#O=!0;const r=this.#I,h=r.length;if(this.#Z(h),this.#it(h),0===e)this.M8(!1);else{let t=e;e<=1&&(t=this.M2(r[0])*e);let i=t;for(let e=0;e<h;e++){const s=r[e];setTimeout(()=>this.#nt(s),i),i+=t}}return this}M2(t){if(!t.M205(this))return this.Error("GetEntityTranslationTime","Not here",t),0;const i=t.M106();return i<0||i>=this.#I.length?(this.Error("GetEntityTranslationTime","Bad index",t),0):t.M1(this.#q[i],this.#W[i])}M3(t){return t.EstimateTravelTime(this.M39(),this.M51())}M157(t=""){for(let t=0;t<this.#I.length;++t)this.#I[t];return!0}},x={smooth:!0,touch_down_events:!1,velocity_px_ms:.5,visible:!1,selected:!1,flip_time:500,face_up:!0,flip_axis:"y"},k=class t extends v{static K103=110;#Mt=null;#pt=null;#ft=null;#mt=x.face_up;constructor(t){super(t,"Card_"+t,!0),this.#gt(t),i.M5(this,"BODY",this.#Mt),i.M5(this,"FACE",this.#pt),i.M5(this,"BACK",this.#ft),this.M197()}M149(){super.M149()}M197(i={}){for(const t in x){const e=i[t]??x[t];i[t]=e}this.M178()&&this.M177().M181(this),this.M7(),this.M105(i.smooth),this.M13(i.touch_down_events),this.M26(i.velocity_px_ms),this.M91(i.visible),this.M71(i.selected),this.M206(t.K103),this.M78(i.flip_time),this.M109(i.face_up),this.M79(i.flip_axis)}#gt(i){this.ELEMENT.classList.add("Card"),this.#Mt=document.createElement("div"),this.#Mt.classList.add("CardBody"),this.#Mt.classList.add("Clickable"),this.#Mt.dataset.idx=i,this.#Mt.card=this,this.#Mt.dataset.face=this.#mt?"up":"no",this.#Mt.dataset.visible=this.M108()?"yes":"no",this.#pt=document.createElement("div"),this.#pt.classList.add("CardFace"),this.#ft=document.createElement("div"),this.#ft.classList.add("CardBack"),this.#Mt.appendChild(this.#pt),this.#Mt.appendChild(this.#ft),this.ELEMENT.appendChild(this.#Mt),this.M124(t.K103)}M9(){return this.#Mt}M109(t=!0){return this.#mt=!!t,this.#Mt.dataset.face=this.#mt?"up":"down",this.OnFlip&&this.OnFlip(t),this}M130(){return this.#mt}M97(){return!this.#mt}M15(t){return this.#Mt.dataset.visible=t?"yes":"no",this}M20(t){return this.#Mt.dataset.selected=t?"yes":"no",this}M78(t){return!Number.isFinite(t)||t<0?(this.Error("SetFlipTime","Bad number",t),this):(this.#Mt.style.transitionDuration=t+"ms",this)}M79(t="x"){if("string"!=typeof t||1!==t.length)return this.Error("SetFlipAxis","Bad axis",t),this;if("x"!==(t=t.toLowerCase())&&"y"!==t)return this.Error("SetFlipAxis","Bad axis",t),this;const i="x"===t?"1":"0",e="y"===t?"1":"0";return this.#Mt.style.setProperty("--ROT_X",i),this.#Mt.style.setProperty("--ROT_Y",e),this}M208(){return this.#mt=!this.#mt,this.#Mt.dataset.face=this.#mt?"up":"down",this.OnFlip&&this.OnFlip(this),this}},L={};((t,i)=>{for(var e in i)y(t,e,{get:i[e],enumerable:!0})})(L,{K48:()=>S,K49:()=>O,K83:()=>P,K65:()=>j,K66:()=>tt,K67:()=>R,K84:()=>D,K85:()=>K,K17:()=>J,K18:()=>$,K95:()=>q,K86:()=>W,K68:()=>G,K87:()=>X,K69:()=>Q,K70:()=>Y,K40:()=>Z,K50:()=>A,K51:()=>N,K71:()=>C,K19:()=>T,K72:()=>I,K111:()=>U,K73:()=>B,K23:()=>V,K52:()=>z,K74:()=>H,K53:()=>F});var C=0,I=6,A=10,N=14,T=15,D=63,K=15,R=15,S=1<<A,P=2<<A,O={[S]:"Black",[P]:"Red"},B=1<<I,V=2<<I,F=3<<I,z=4<<I,U=[B,V,F,z].sort(),H={[B]:"Clubs",[V]:"Diamonds",[z]:"Hearts",[F]:"Spades"},j=1<<N,G=0,q=1,W=11,Y=12,X=13,$=Math.min(W,Y,X),J=Math.max(W,Y,X),Q={[q]:"Ace",[W]:"Jack",[Y]:"Queen",[X]:"King"},Z={[q]:"A",[W]:"J",[Y]:"Q",[X]:"K"},tt={name:"Joker",suit:"joker",symbol:"JKR",rank:G,flag:j},it=class extends k{#wt=!1;#yt=!1;#vt=null;constructor(t,e){super(t),i.M5(this,"DNA",e);const s=e&D,n=e&K<<I,r=e&R<<A;i.M5(this,"RANK",s),i.M5(this,"SUIT",n),i.M5(this,"COLOR",r),this.#wt=0!==(e&j),this.#yt=!this.#wt&&this.RANK>=$&&this.RANK<=J,this.#bt(),this.#Et()}M131(){return"("+this.IDX+") "+this.M80()+" of "+this.M81()}#bt(){const t=this.M80().toLowerCase(),i=this.M81().toLowerCase(),e=this.M198()?"red":"black",s=this.BODY;s.dataset.rank=t,s.dataset.suit=i,s.dataset.color=e,this.#wt?s.dataset.joker="yes":this.#yt&&(s.dataset.royal="yes")}#Et(){const t=this.M42().toUpperCase(),i=this.M81();this.FACE.innerHTML="";const e=document.createElement("p");e.innerText=t,this.#vt=e,this.#yt&&this.M41(this.RANK),this.FACE.appendChild(this.#vt);{const t=this.#xt(i.toLowerCase());this.FACE.appendChild(t)}}M41(t){const i=document.createElement("span");i.innerText=t,this.#vt.appendChild(i)}#xt(t){this.M198();const i=document.createElementNS("http://www.w3.org/2000/svg","svg");return i.setAttribute("class","SuitIcon"),i.innerHTML=`<use href="#suit-${t}"/>`,i}M144(t,i){super.M144(t,i),this.FACE.style.fontSize=Math.round(.4*t)+"px"}static async M110(t){try{const i=M19("flex-box/"),e=await fetch(i+t),s=await e.text(),n=document.getElementById("card-sprite-sheet");n&&n.remove();const r=document.createElement("div");r.id="card-sprite-sheet",r.style.display="none",r.innerHTML=s,document.body.appendChild(r)}catch(t){}}M198(){return this.COLOR===P}M158(){return this.COLOR===S}M159(){return this.#wt}M160(){return this.#yt}M132(){return!this.#wt&&!this.#yt}M199(){return this.RANK===q}M184(){return this.RANK===W}M161(){return this.RANK===Y}M185(){return this.RANK===X}M186(){return this.RANK%2==0}M200(){return this.RANK%2!=0}M187(t){return this.SUIT===t}M80(){return this.#wt?tt.name:Q[this.RANK]||this.RANK.toString()}M81(){return this.#wt?tt.suit:H[this.SUIT]||"Unknown"}M42(){return this.#wt?tt.symbol:Z[this.RANK]||this.M80()}M52(){return O[this.COLOR]||"Unknown"}},et=1/0,st=!0,nt=!0,rt=class extends E{#mt=nt;#kt=st;constructor(t,i,e,s,n,r,h={}){const{max_cards:o=et,flip_after:a=st,face_up:l=nt,sorting:c=null,tuck:u=!1,uniform:d=!0,parent:_=null,reverse_z:M=!1}=h;super(t,i,e,s,n,r,{max_count:o,sorting:c,tuck:u,uniform:d,parent:_,reverse_z:M}),this.M28(it.K103),this.ELEMENT&&this.ELEMENT.classList.add("BoxOfCards"),this.M109(l),this.M53(a)}#Lt(t,i){t.M109(i)}M215(t,i=!0){return t instanceof it?(super.M215(t,i),this.#kt?t.M70(this.#Lt.bind(this,t,this.#mt)):t.M109(this.#mt),this):(this.Error("Add","Not a Card instance",t),this)}M179(t){return this.M215(t,!1)}M180(t){return this.M215(t,!0)}M127(t){return t instanceof it?super.M127(t):(this.Error("Includes","Not a Card instance",t),this)}M129(t,i=!0,e=0){const s=t.length;if(0===s)return this;for(let i=0;i<s;i++){const e=t[i];if(!(e instanceof it))return this.Error("BatchAdd","Not a Card instance",e),this}if(this.M128()+s>this.M74())return this.Error("BatchAdd","I am full"),this;super.M129(t,i,e);for(let i=0;i<s;i++){const e=t[i];this.#kt?e.M70(this.#Lt.bind(this,e,this.#mt)):e.M109(this.#mt)}return this}M181(t){return t instanceof it?(super.M181(t),this):(this.Error("Remove","Not a Card instance",t),this)}M77(t=null,i=0){const e=null===t?[...this.GetEntities()]:t,s=e.length;if(0===s)return this;for(let t=0;t<s;t++){const i=e[t];if(!(i instanceof it))return this.Error("Remove","Not a Card instance",i),this}return super.M77(t,i),this}M111(t){return super.M75(t)}M109(t=!0){return this.#mt=!!t,this}M53(t=!0){return this.#kt=!!t,this}},ht=class{#Ct=[];#It=[];#At=[];#Nt=null;#Tt=0;constructor(t={},i={}){const{jokers:e=0,exclude_ranks:s=[],exclude_cards:n=[],suits:r=U,seed:h=0}=t;this.#Tt=h,this.#Dt(r,s,n,e),this.#Nt={smooth:i.smooth??!0,touch_down_events:i.touch_down_events??!0,velocity_px_ms:i.velocity_px_ms??100,flip_time:i.flip_time??500,face_up:i.face_up??!0,visible:i.visible??!0,flip_axis:i.flip_axis??"y"},this.M197()}#Kt(t,i,e){return(t&D)===i&&(t&K<<I)===e}#Dt(t,i,e,s){for(const s of t){const t=s===V||s===z?P:S;for(let n=1;n<=13;n++){if(i.includes(n))continue;if(e.some(t=>this.#Kt(n|s,t.rank,t.suit)))continue;const r=n|s|t,h=new it(this.#Ct.length,r);this.#Ct.push(h)}}for(let t=0;t<s;t++){const i=j|(t%2==0?S:P),e=new it(this.#Ct.length,i);this.#Ct.push(e)}}M197(){this.#At=[],this.#It=this.#Ct.map((t,i)=>i);const t=new Set;this.#Ct.forEach(i=>{const e=i.M177();e&&t.add(e)}),t.forEach(t=>t.M196());const i=this.#Nt;for(const t of this.#Ct)t.M197(i);return this}M209(t=null,i=0){if(null===t)return this;const e=this.M163(),s=i>0;return this.M154(t=>{t.M91(s),t.M105(s),t.M78(0),t.M109(!1)}),t.M129(e,!0,i>0?i:0),this.M154(t=>{t.M78(this.#Nt.flip_time),t.M105(this.#Nt.smooth)}),this}M152(t=0){let e=Math.random;0!==(t=t||this.#Tt)&&(t="string"==typeof t?M89(t):t,e=i.M24(t));const s=this.#It;for(let t=s.length-1;t>0;t--){const i=Math.floor(e()*(t+1));[s[t],s[i]]=[s[i],s[t]]}return this}M162(t=0){return this.#Tt="string"==typeof t?M89(t):0|t,this.#Tt}M210(){if(0===this.#It.length)return null;const t=this.#It.pop();return this.#At.push(t),this.#Ct[t]}M163(){const t=[];return this.#It.forEach(i=>{t.push(this.#Ct[i])}),this.#At=this.#It,this.#It=[],t}M133(){const t=this.#It[this.#It.length-1];return this.M164(t)}M164(t){return this.#Ct[t]}M43(t){if("function"!=typeof t)return[];const i=[];for(let e=this.#It.length-1;e>=0;e--){const s=this.#It[e],n=this.#Ct[s];t(n)&&(this.#It.splice(e,1),this.#At.push(s),i.push(n))}return i}M54(t,i){t|=0,i|=0,this.#Ct.forEach(e=>e.M144(t,i))}M165(){return this.#Ct.length}M21(){return this.#It.length}M154(t){return"function"!=typeof t||this.#Ct.forEach((i,e)=>t(i,e)),this}M22(t,i){const e=t.SUIT,s=i.SUIT;return e<s?-1:e>s?1:Math.sign(t.RANK-i.RANK)}},ot="off",at=class extends rt{static K54=ot;static K55="top";static K24="right";static K20="bottom";static K41="left";#Rt=null;#St=!1;#Pt=0;#Ot=null;constructor(t,e,s={}){const{max_cards:n=1/0,counter_position:r=ot,pop_effect:h=!1,face_up:o=!0,parent:a=null}=s;super(t,e,E.K115,E.K110,E.K105,!0,{max_cards:n,parent:a}),this.#Bt(),this.#Vt(),this.M16(r),this.M55(h),this.M109(o),i.M5(this,"COUNTER",this.#Rt)}#Bt(){const t=this.ELEMENT;t.classList.add("PileOfCards");const i=document.createElement("span");i.classList.add("PileCounter"),i.innerText="0",t.appendChild(i),this.#Rt=i}M215(t,i=!0){return super.M215(t,i),this.#Ft(t,i),this}#Ft(t,i=!0){t.M122()?(this.#Pt++,t.M70(()=>{this.#Pt--,this.#Vt(),this.#zt(i?t:null),i||this.#Ot===t||t.M91(!1)})):(this.#zt(i?t:null),i||this.#Ot===t||t.M91(!1),this.#Vt())}#zt(t=null){const i=this.M128();if(0===i)return;const e=this.#Ot;if(null===t)for(let e=i-1-this.#Pt;e>=0;--e){const i=this.M75(e);if(!i.M120()){t=i;break}}e!==t&&(e&&e.M91(!1),this.#Ot=t,t.M91(!0))}M129(t,i=!0){super.M129(t,i);const e=t.length;let s;for(let i=0;i<e;i++)s=t[i],s.M91(!1);return this.#Vt(),this.#zt(i?s:null),this}M181(t){return super.M181(t),this.#Ut(t),this}#Ut(t,i=!0){t.M91(!0),t.M120()&&this.#Pt--,i&&(this.#Ot===t&&(this.#Ot=null,this.#zt(null)),this.#Vt())}M77(t=null,i=0){const e=this.#Ot,s=null===t?[...this.GetEntities()]:t,n=s.length;if(0===n)return this;super.M77(t,i);for(let t=0;t<n;t++){const i=s[t];this.#Ut(i,!1)}return s.includes(e)&&this.#zt(),this.#Vt(),this}M196(){return super.M196(),this.#Ot=null,this.#Pt=0,this.#Vt(),this}M134(t){return this.M215(t,!0)}M82(t){return this.M215(t,!1)}M83(){const t=this.M156();return t&&this.M181(t),t}M31(){const t=this.M155();return t&&this.M181(t),t}M175(){return this.M156()}M112(){return this.M155()}M152(){const t=this.M128();if(t>0&&this.#Ht(),t<=1)return;const i=this.#Ot;super.M152();const e=this.M75(t-1);return i!==e&&(i.M91(!1),e.M91(!0),this.#Ot=e),this}M16(t){return this.ELEMENT.dataset.counter=t,this}M55(t){return this.#St=!!t,this}#Vt(){const t=this.M128()-this.#Pt;this.#Rt.innerText=t,this.#St&&this.#Ht()}#Ht(){const t=this.#Rt;t.classList.remove("PopEffect"),this.M68(),t.classList.add("PopEffect")}debug(){const t=this.M128();for(let i=0;i<t;++i)this.M75(i)}M166(){const t=this.M128();return 0===t?null:this.M75(t-1)}M98(){return 0===this.M128()?null:this.M75(0)}},lt=window.visualViewport,ct="AppRotate",ut="AppError",dt="AppErrorInfo",_t="AppViewport",Mt="PageHidden",pt="Hidden",ft=ct.toLowerCase(),mt=ut.toLowerCase(),gt="Home".toLowerCase(),wt="Play".toLowerCase(),yt=class t{static K88=1;static K96=2;static K113=3;#jt=null;#Gt=null;#qt=new Map;#Wt=t.K88;#Yt=null;#Xt=null;#$t=null;#Jt=null;#Qt=null;#Zt=null;#ti=null;#ii=null;#ei=null;#si="";#ni=!0;constructor(t={}){this.#si=i.M117?"touchstart":"click",this.#ri(t);const e=t.start_page||gt;requestAnimationFrame(()=>this.M136(e))}#ri(t){if(this.#jt=document.getElementById(_t),null===this.#jt)throw new Error("App » Element not found: #"+_t);this.#hi();const i=this.#qt.get(ft);if(!i)throw new Error("App » Element not found: #"+ct);i.classList.add(ct);const e=this.#qt.get(mt);if(!e)throw new Error("App » Element not found: #"+ut);if(e.classList.add(ut),this.#Xt=document.getElementById(dt),!this.#Xt)throw new Error("App » Element not found: #"+dt);this.#oi(t),this.#ai(),this.#li(),this.#ci(),this.#Wt=t.page_mode??1,this.#ui(),this.#ti=t.on_resize||this.#ti||null,this.#ii=t.on_click||this.#ii||null,this.#ei=t.on_page||this.#ei||null}#oi(t){const i=new k("Onesie");i.M91(!0),i.M109(!1),i.M105(!1),this.#Zt=i;const e=this.#qt.get(gt);if(e.appendChild(i.ELEMENT),e.classList.add("Clickable"),t.blank_card)return;const s=t.game_name||"Some Card Game",n=t.game_designer||"Some Great Designer",r=t.game_build||("undefined"!=typeof BUNDLE_ID?BUNDLE_ID:"0000-0000-0000"),h="p";if(!t.blank_back){const t=document.createElement(h);t.classList.add("h1"),t.innerHTML="ONESIE",i.BACK.appendChild(t);const e=document.createElement(h);e.classList.add("h2"),e.innerHTML="1p card games",i.BACK.appendChild(e);const s=document.createElement(h);s.classList.add("h3"),s.innerHTML="build:<br><span>"+r+"</span>",i.BACK.appendChild(s)}if(!t.blank_face){const t=document.createElement(h);t.classList.add("h1"),t.innerHTML=s;const e=document.createElement(h);e.classList.add("h2"),e.innerHTML="<small>designed by:</small><br>"+n;const o=document.createElement(h);o.classList.add("h2"),o.innerHTML="<small>coded by:</small><br>Pedro Fontoura";const a=document.createElement(h);a.classList.add("h3"),a.innerHTML="build:<br><span>"+r+"</span>";const l=document.createElement(h);l.classList.add("h3"),l.innerHTML="♦ a solitaire card game ♦";for(const s of[t,l,e,o])i.FACE.appendChild(s)}}#hi(){document.querySelectorAll("#"+_t+" > section").forEach(t=>{this.#qt.set(t.id.toLowerCase(),t),t.classList.add(Mt)})}#ci(){window.addEventListener("resize",()=>this.#ui()),window.addEventListener("contextmenu",t=>{if(t.preventDefault(),t.stopPropagation(),"touchstart"===this.#si)return;const i=new MouseEvent(this.#si,{view:window,bubbles:!0,cancelable:!0,clientX:t.clientX,clientY:t.clientY});t.target.dispatchEvent(i)},{passive:!1}),window.addEventListener("unhandledrejection",t=>{t.preventDefault(),t.stopPropagation();const i=[this.#di(t.reason.stack)].join("<br>");this.#_i("Error",i)}),window.addEventListener("error",t=>{t.preventDefault(),t.stopPropagation();const i=[t.error.message,t.error.fileName,t.error.lineNumber,this.#di(t.error.stack)].join("<br>");this.#_i("Error",i)}),this.#Jt.addEventListener(this.#si,t=>{this.#Mi(),t.stopPropagation(),this.#Qt.classList.toggle(pt)}),Array.from(this.#Qt.children).forEach(t=>{const i=this.#pi(t);this.#qt.get(i)?t.addEventListener(this.#si,t=>{this.#Mi(),t.stopPropagation(),this.#fi(t)}):t.remove()}),this.#Zt.M9().addEventListener(this.#si,t=>{this.#Mi(),t.stopPropagation(),this.#Zt.M130()?this.M136(wt):this.#Zt.M208()}),this.M167(gt).addEventListener(this.#si,t=>{this.#Mi(),t.stopPropagation(),this.#Zt.M208()}),window.addEventListener(this.#si,t=>{t.stopPropagation(),this.#mi(t)})}#Mi(){i.M47||i.M117&&i.M18()}#fi(t){const i=this.#pi(t.target);this.#qt.get(i)&&this.M136(i)}#mi(t){let i=0,e=0;if("touchstart"===this.#si){const s=t.touches[0];i=s.clientX,e=s.clientY}else i=t.clientX,e=t.clientY;if(this.#ii){if(!this.#ni)return;this.#ii(t.target,0|i,0|e)}}#ai(){this.#$t=document.getElementById("AppSideMenu"),this.#Jt=document.getElementById("AppSideMenuMain"),this.#Qt=document.getElementById("AppSideMenuGroup"),this.#Qt.classList.add(pt),i.M117&&this.#$t.classList.add("TopSpacing")}#di(t){return t.split("at ").join("<br>&bull; ")}#_i(t,i){null!==this.#Xt&&(this.#Xt.innerHTML+="<h3>"+t+"</h3>"+i,this.M136(mt))}#ui(){const t=lt.width,i=lt.height;if(this.#gi(),this.#Zt){const e=.75*Math.min(t,i)|0,s=.7*e|0;this.#Zt.M144(s,e),this.#Zt.M69(t-s>>1,i-e>>1)}this.#ti&&this.#ti(t,i,this.#$t.offsetWidth)}get M201(){return lt.width}get M188(){return lt.height}#gi(){3!==this.#Wt&&((Math.sign(lt.width-lt.height)>=0?1:2)!==this.#Wt?this.#Gt!==ft&&(this.#Yt=this.#Gt,this.M136(ft)):null!==this.#Yt&&(this.M136(this.#Yt),this.#Yt=null))}async#li(){await this.M113("./assets/app_icons.svg","icons-sprite-sheet")}async M113(t,i){try{const e=await fetch(t),s=await e.text(),n=document.getElementById(i);n&&n.remove();const r=(new DOMParser).parseFromString(s,"image/svg+xml").querySelector("svg");r&&(r.id=i,r.style.display="none",document.body.insertAdjacentElement("afterbegin",r))}catch(t){}}async M135(t){try{const i=await fetch(t);return i.ok?await i.json():null}catch(t){return null}}#pi(t){const i=t.querySelector("use");if(i)return(i.getAttribute("href")||i.getAttribute("xlink:href")).split("-").pop().toLowerCase()}get M99(){return this.#$t.offsetWidth}get M211(){return this.#Zt}M136(t,i=!1){const e=this.#Gt===t;t=t.toLowerCase();const s=this.#qt.get(t);if(!s)throw new Error("App » No such page: "+t);t===wt&&this.#ni,this.#Gt&&this.#qt.get(this.#Gt).classList.add(Mt),s.classList.remove(Mt),this.#Gt=t,t===gt?this.#$t.classList.add(pt):this.#$t.classList.remove(pt);const n=this.#Zt;n&&n.M109(!1),this.#ei&&!i&&this.#ei(t,e)}M114(t){return this.#Gt===t}M167(t){const i=this.#qt.get(t);if(!i)throw new Error("App » No such page: "+t);return i}M56(){const t=window.matchMedia("(display-mode: standalone)").matches,i=!0===window.navigator.standalone;return t||i}M137(t=!0){(t=!!t)&&this.#ni?this.#Qt.classList.remove(pt):this.#Qt.classList.add(pt)}M29(t,i){t.classList.add("Clickable"),t.addEventListener(this.#si,e=>{e.preventDefault(),e.stopPropagation(),i(t)})}get M216(){const t=new Date,e=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}-${String(t.getHours()).padStart(2,"0")}-${String(t.getMinutes()).padStart(2,"0")}`;return i.M89("Onesie"+e)}async M84(t=!0){const e=await this.#wi();if("Wrpq}Qjt7qxvn"===i.M48(e,9))return this.#ni=!0,!0;let s=!1;return window.top===window.self&&"ynm{x6oxw}x~{j7pr}q~k7rx"===i.M48(window.location.hostname,9)&&(s=i.M17("key",0,!0)===this.M216),this.#ni=s,!s&&t&&this.#yi(),s}#yi(){const t="https://"+i.M48("ynm{x6oxw}x~{j7pr}q~k7rx8xwn|rn8HyjpnFyuj",-9);self.location.replace(t)}#wi=async()=>(await fetch(window.location.href,{method:"HEAD"})).headers.get("server")},vt="fsm_data_changed",bt=class{#vi=()=>{};V42=!0;V39=new Map;V18=null;V28={};V24=[];V25=[];constructor(t,i=[]){if(this.#vi=t,i.length>0)for(const t of i)this.V24.push(t)}M32(t){this.#bi(t)}M44(t){if(null!==t&&!this.V39.has(t))throw new Error("FSM::AssertStateId » Unknown id: "+t)}M45(t){if(!this.V28.hasOwnProperty(t))throw new Error("FSM::AssertDataKey » Unknown key: "+t)}M57(t,i,e=null){this.M44(t),this.M44(i),null!==t&&t!==this.V18.ID||this.#bi(i,e)}#bi(t,i=null){if(this.V18&&this.V18.M212(),this.V18=this.V39.get(t),!this.V18)throw new Error("FSM::#TransitionTo » No state! Key:",t);return this.V18.M202(i),!0}M33(t){if(null!==t)return this.M44(t),this.V18.ID===t}M58(t,i={}){this.M44(t);for(const[t,e]of Object.entries(i))this.M45(t),e!==this.V28[t]&&(this.V28[t]=e,this.#Ei(t,e));return this.M33(t)}#Ei(t,i){this.V24.includes(t)&&this.#xi(vt,{key:t,value:i})}M59(t,i){if(this.M44(t),"string"==typeof i)return this.M45(i),this.V28[i];const e={};for(const t of i)this.M45(t),this.V28[t],e[t]=this.V28[t];return e}M138(){const t=this.V28;for(const[i,e]of Object.entries(t));}M189(t=null,i,e){t&&this.M44(t),this.#xi(i,e)}#xi(t,i){this.#vi(t,i)}M115(t){this.M44(t),this.V18&&(this.V18.Sleep(),this.V25.push(this.V18)),this.V18=this.V39.get(t),this.V18.M202()}M139(){const t=this.V25;if(0===t.length)throw new Error("FSM::PopState » Stack is empty");this.V18.M212(),this.V18=t.pop(),this.V18.WakeUp()}},Et=class{constructor(t,e){i.M5(this,"ID",t),i.M5(this,"CONTROLLER",e)}M202(t){}M212(){}M168(t,i){return!1}M85(t,i){return!1}M100(t,i){return!1}M189(...t){return this.CONTROLLER.M189(this.ID,...t)}M169(...t){return this.CONTROLLER.M59(this.ID,...t)}M170(...t){return this.CONTROLLER.M58(this.ID,...t)}M57(...t){return this.CONTROLLER.M57(this.ID,...t)}},xt=class extends Et{constructor(t){super(t)}},kt=class extends Et{constructor(t,i){super(t,i)}M202(){this.M189(M,!0);const{health:t,played_card:i}=this.M169(["health","played_card"]);let e=t;20===e&&i.M187(z)&&(e+=i.RANK),this.M189(d,{key:"score",value:e})}},Lt=class extends Et{constructor(t,i){super(t,i)}M202(){this.M189(M,!1);const t=this.CONTROLLER.M6(this.ID);let i=0;t.forEach(t=>{t.M199()?i+=14:i+=t.RANK}),this.M189(d,{key:"score",value:-i})}},Ct=class extends Et{constructor(t,i){super(t,i)}M202(){const t=1+this.M169("turn");this.M170({turn:t});const i=this.CONTROLLER.M62(this.ID),e=this.CONTROLLER.M61(this.ID),s=Math.min(4-e,i);for(let t=1;t<=s;++t)setTimeout(()=>this.CONTROLLER.M34(this.ID),500*t);setTimeout(()=>this.M57(o),500*(s+1))}},It=class extends Et{#ki=!1;constructor(t,i){super(t,i)}M202(){this.#ki=this.CONTROLLER.M190(this.ID),this.M189(d,{key:"CanRun",value:this.#ki}),this.M189(d,{key:"CanHeal",value:!0})}M85(t,i){return i===f?this.#ki?(this.M57("run"),!0):(this.M189(u,"cannot:run"),!1):i===g&&(this.M57(a,t),!0)}},At=class extends Et{constructor(t,i){super(t,i)}M202(){this.M189(d,{key:"CanRun",value:!1});const t=this.M169("turn");this.M170({last_run:t}),this.CONTROLLER.M35(this.ID).M70(()=>{this.M57(l)})}},Nt=class extends Et{constructor(t,i){super(t,i)}M202(){this.CONTROLLER.M46(this.ID);const t=this.CONTROLLER.M61(this.ID),i=this.CONTROLLER.M62(this.ID);0===t&&0===i?this.M57(n):this.M57(h)}},Tt=class extends Et{#Li=!0;#Ci=0;#Ii=0;#Ai=null;#Ni=!1;#Ti={monster_value:0,sword_value:0,sword_used:!1};constructor(t,i){super(t,i)}M202(t){this.#Li=!0,this.#Ni=!1,this.#Di(t)}M85(t,i){if(!this.#Ni)return i===g&&(this.#Di(t),!0);if(i===w){if(t.M187(V))return this.#Ni=!1,this.#Ki(),!0}else{if(i===m)return this.#Ni=!1,this.#Ri(),!0;if(i===g&&t.M158()&&t.M92())return t.M71(!1),this.#Ai=null,this.#Ni=!1,!0}return!1}M168(t,i){return!!this.#Ni&&(i===m?(this.#Ni=!1,this.#Ri(),!0):i===w&&(this.#Ni=!1,this.#Ki(),!0))}#Di(t){return this.#Ci=-1,this.#Ai=null,this.M170({played_card:t}),t.M158()?this.#Si(t):t.M187(V)?this.#Pi(t):this.#Oi(t),!0}#Bi(){this.#Ci<0&&this.M189(d,{key:"damage",value:this.#Ci}),null!==this.#Ai&&this.#Ii<=0?this.M57(r):this.CONTROLLER.M63(this.ID)?0===this.CONTROLLER.M62(this.ID)&&this.M57(l):this.M57(l)}#Si(t){this.#Ai=t;const{sword_value:i,sword_level:e,health:s}=this.M169(["sword_value","sword_level","health"]);this.#Ii=s;const n=t.M199()?14:t.RANK,r=0===i||e<=n;this.#Ci=n,r?this.#Ri():(this.#Ni=!0,this.#Ai=t,t.M71(!0),this.#Ti.monster_value=n,this.#Ti.sword_value=i,this.#Ti.sword_level=e)}#Ri(){this.#Ii=Math.max(0,this.#Ii-this.#Ci),this.M170({health:this.#Ii});const t=[this.#Ai.M39(),this.#Ai.M51()];this.M189(d,{key:"damage",value:this.#Ci,center:t}),this.CONTROLLER.M171(this.ID,this.#Ai),this.#Ai.M71(!1),this.#Ai.M70(()=>this.#Bi())}#Ki(){const t=this.#Ti;if(this.M170({sword_level:t.monster_value}),this.#Ci=t.monster_value-t.sword_value,this.#Ci>0){this.#Ii=Math.max(0,this.#Ii-this.#Ci),this.M170({health:this.#Ii});const t=[this.#Ai.M39(),this.#Ai.M51()];this.M189(d,{key:"damage",value:this.#Ci,center:t})}else 0===this.#Ci&&this.M189(d,{key:"damage",value:0});this.#Ai.M71(!1),this.CONTROLLER.M36(this.ID,this.#Ai),this.#Ai.M70(()=>this.#Bi())}#Pi(t){const i=this.M169("sword_card");if(null!==i){const e=this.CONTROLLER.M23(this.ID);return void(null!==e?e.M70(()=>this.#Vi(i,t)):this.#Vi(i,t))}this.#Fi(t)}#Vi(t,i){const e=this.CONTROLLER.M87(this.ID);null!==e?e.M70(()=>this.#Fi(i)):this.#Fi(i)}#Fi(t){this.CONTROLLER.M116(this.ID,t),this.#Bi()}#Oi(t){this.#Li&&(this.#Li=!1,this.M189(d,{key:"CanHeal",value:!1}),this.CONTROLLER.M213(this.ID,t.RANK)),this.CONTROLLER.M171(this.ID,t),t.M70(()=>this.#Bi())}},Dt=class extends bt{static K42=vt;#zi=null;#Ui=0;#Hi=null;#ji=null;#Gi=null;#qi=null;#Wi=null;#Yi=null;#Xi=null;#$i=null;#Ji={position:new Array(2),status:0};#Qi=null;constructor(t={}){const{on_message_request:i,V24:e=[],parent_node:n=window.document.body}=t;super(i,e),this.#Qi=n,this.#Zi();for(const t of e)this.V28.hasOwnProperty(t);this.#te(),this.M32(s),this.#ie()}#Zi(){this.V28.health=0,this.V28.played_card=null,this.V28.sword_card=null,this.V28.sword_level=0,this.V28.sword_value=0,this.V28.turn=0,this.V28.last_run=0}#te(){const t=[[s,xt],[n,kt],[r,Lt],[h,Ct],[o,It],["run",At],[l,Nt],[a,Tt]];for(const[i,e]of t)this.V39.set(i,new e(i,this))}M58(t,i){return super.M58(t,i),this.#ee(),this.V18.ID===t}#ee(){this.V28}M168(t,i,e){let s=!1;this.V42||(s=this.#se(t)),this.#Ji.position[0]=i,this.#Ji.position[1]=e,this.#Ji.status=s,this.M189(null,_,this.#Ji)}#se(t){if(!t.classList.contains("Clickable"))return!1;if(t.classList.contains("CardBody")){const i=parseInt(t.dataset.idx),e=this.#zi.M164(i),s=this.#ne(e);return this.V18.M85(e,s)}const i=this.#re(t);return this.V18.M168(t,i)}#ne(t){const i=t.M177();return i===this.#Hi?f:i===this.#ji?m:i===this.#Gi?g:i===this.#qi?w:p}#re(t){return t===this.#Hi.ELEMENT?f:t===this.#ji.ELEMENT?m:t===this.#Gi.ELEMENT?g:t===this.#qi.ELEMENT?w:p}M60(t){return!Number.isInteger(t)||t<=0?(this.M189(null,MSG_APP_ERROR,"Invalid game_level: "+t),this):(this.V28.level=t,this)}M203(){const t=i.M17("seed",Date.now()%1e6,!0);this.M189(null,c,t),this.#zi.M197().M152(t).M209(this.#Hi),this.V42||(this.#he(),this.#oe()),this.V42=!1,this.M58(null,{health:20}),this.M32(h)}M140(t,e,s=0){const n=Math.min(t,e),r=.03*n,h=(s||.1*n)+r,o=Math.floor((n-r-h)/5),a=Math.round(o/.7),l=5*o,c=4*a,u=Math.min(18,Math.round(.1*o))+"px",d=t-l-h>>1,_=t<e?.25*(e-c>>1):0,M=e-c-3*_>>1,p=.8*a|0,f=.66*p|0;this.#zi.M54(f,p);const m=.9*a|0,g=o;this.#Hi.M27(f,p),this.#Hi.M102(g,m,d+o,M),this.#Hi.COUNTER.style.fontSize=u,this.#ji.M27(f,p),this.#ji.M102(g,m,d+3*o,M),this.#ji.COUNTER.style.fontSize=u;let w=M+a+_;this.#Gi.M27(f,p),this.#Gi.M102(l,m,d,w),w+=a+_,this.#qi.M27(f,p),this.#qi.M102(l,m,d,w),w+=a+_,i.M102(this.#Wi,l,a,d,w);const y=.4*l|0,v=.025*c|0,b=l-2*y;return i.M144(this.#Yi,y,v),i.M144(this.#Xi,y,v),i.M144(this.#$i,b,a),this}M141(t){return this.M44(t),this.#Hi.M83()}M86(t){return this.M44(t),0===this.#Hi.M128()}M46(t){this.M44(t),this.#he()}#he(){}#oe(){super.M58(null,{played_card:null,sword_card:null,sword_level:0,sword_value:0,turn:0,last_run:0,health:0})}M61(t){return this.M44(t),this.#Gi.M128()}M62(t){return this.M44(t),this.#Hi.M128()}M34(t){this.M44(t);const i=this.#Hi.M83();return this.#Gi.M179(i),i}M190(t){this.M44(t);const i=this.V28.last_run;return 0===i||i<this.V28.turn-1}M35(t){this.M44(t);const i=this.#Gi.M183();return this.#Gi.M196(),i.forEach(t=>t.M109(!1)),this.#ae(i,this.#Hi)}#ae(t,i,e=250){const s=t.length;if(0===s)return null;const n=t[0];for(let n=0;n<s;++n)setTimeout(()=>{const e=t.pop();i===this.#ji?i.M134(e):i===this.#Hi?i.M82(e):i.M215(e)},n*e);return n}M213(t,i){this.M44(t);const e=Math.min(20,this.V28.health+i);return this.M58(null,{health:e}),e}M63(t){return this.M44(t),this.#Gi.M128()>1||0===this.#Hi.M128()}M171(t,i){return this.M44(t),this.#ji.M215(i),i}M23(t){this.M44(t);const i=this.#qi.M76(t=>!0);return 0===i.length?null:(this.#qi.M77(i),i.forEach(t=>t.M109(!1)),this.#ae(i,this.#ji))}M87(t){this.M44(t);const i=this.V28.sword_card,e=this.#ji.M127(i);return e||this.#ji.M134(i),this.M58(null,{sword_card:null,sword_level:0,sword_value:0}),e?null:i}M116(t,i){this.M44(t),this.#qi.M215(i),this.M58(null,{sword_card:i,sword_level:1/0,sword_value:i.RANK})}M36(t,i){return this.M44(t),this.#qi.M215(i),i}M6(t,i){return this.M44(t),this.#Hi.M76(t=>t.M158())}#le(t){if(t<0||t>this.#Ui-1)throw new Error("GC::AssertCardIdx » Bad idx: "+t)}#ie(){this.#ce(),this.#ue()}#ce(){this.#zi=new ht({jokers:0,exclude_cards:[{rank:L.K95,suit:L.K52},{rank:L.K95,suit:L.K23},{rank:L.K86,suit:L.K52},{rank:L.K70,suit:L.K52},{rank:L.K87,suit:L.K52},{rank:L.K86,suit:L.K23},{rank:L.K70,suit:L.K23},{rank:L.K87,suit:L.K23}]},{velocity_px_ms:1,flip_time:618,visible:!1,touch_down_events:!0,smooth:!0,flip_axis:e.M50(.5)?"x":"y"}),this.#zi.M154(t=>{this.#Qi.appendChild(t.ELEMENT),t.M199()&&t.M41(14)}),this.#Ui=this.#zi.M165()}#ue(){const i=this.#zi.M165(),e=this.#Qi;let s=0;this.#Hi=new at(s++,"DrawPile",{max_cards:i,flip_after:!1,face_up:!1,parent:e,counter_position:at.K24,pop_effect:!0}),this.#Hi.ELEMENT.classList.add("DrawPile"),this.#Hi.ELEMENT.classList.add("Clickable"),this.#ji=new at(s++,"DiscardPile",{max_cards:i,flip_after:!1,face_up:!1,parent:e,counter_position:at.K24,pop_effect:!0}),this.#ji.ELEMENT.classList.add("DiscardPile"),this.#ji.ELEMENT.classList.add("Clickable"),this.#Gi=new rt(s++,"Room",rt.K115,rt.K105,rt.K105,!0,{max_cards:4,flip_after:!0,face_up:!0,parent:e}),this.#Gi.ELEMENT.classList.add("Room"),this.#Gi.ELEMENT.classList.add("Clickable"),this.#qi=new rt(s++,"Hand",rt.K115,rt.K105,rt.K105,!0,{max_cards:i,flip_after:!0,face_up:!0,parent:e}),this.#qi.ELEMENT.classList.add("Hand"),this.#qi.ELEMENT.classList.add("Clickable"),this.#Wi=t("InGameInfo"),this.#Yi=t("IGI_HealthLeft"),this.#Xi=t("IGI_HealthRight"),this.#$i=t("IGI_Stats")}};import Kt from"stampit";import stampit from"stampit";var Rt=stampit({props:{M101:!1,M214:null,M10:NaN},methods:{setImage(t){this.resetImage(),this.M101=!0;let i=null;"string"==typeof t?(i=new Image,i.onload=()=>{this.M214=i,this.M10=i.width/i.height},i.onerror=()=>{this.resetImage()},i.src=t):(t instanceof HTMLImageElement||t instanceof Image)&&(this.M214=t,this.M10=t.width/t.height)},getImage(){return this.M214&&this.M214.complete?this.M214:null},getImageAspectRatio(){return this.M214&&this.M214.complete?this.M10:NaN},resetImage(){this.M214=null,this.M10=NaN,this.M101=!1}}});import St from"stampit";import{ARRAY_TYPE as Pt}from"glMatrix";import{fromValues as Ot,create as Bt}from"vec2";var vec2={fromValues:Ot,create:Bt},Vt=St({methods:{validateVector(t,i=null){const e=t||i;if(!e)return vec2.create();if(!(Array.isArray(e)||e instanceof Pt))throw new Error("Vector input must be an Array or glMatrix ARRAY_TYPE.");if(2!==e.length)throw new Error("Vector input must have exactly 2 elements.");if(!Number.isFinite(e[0])||!Number.isFinite(e[1]))throw new Error("Vector array must contain only numeric values.");return vec2.fromValues(e[0],e[1])}}});import{add as Ft,create as zt,scaleAndAdd as Ut,zero as Ht,copy as jt}from"vec2";import Gt from"stampit";import qt from"stampit";var Wt=qt({methods:{makeReadOnly:function(t){if("object"!=typeof t||null===t||Array.isArray(t))return;const i={};Object.entries(t).forEach(([t,e])=>{Object.prototype.hasOwnProperty.call(this,t),i[t]={configurable:!1,writable:!1,value:e,enumerable:!0}}),Object.defineProperties(this,i)}}}),Yt={add:Ft,create:zt,scaleAndAdd:Ut,zero:Ht,copy:jt},Xt="#FFFFFF",$t=!0,Jt=2*Math.PI,Qt=Kt({props:{M191:null},init({radius:t=3,color:i=Xt,opacity:e=1,fill:s=$t,user_data:n=null}){if(!Number.isFinite(t)||t<=0)throw new Error("'radius' must be a positive number.");if(!Number.isFinite(e)||e<0||e>1)throw new Error("'opacity' must be a number between 0.0 and 1.0.");if("string"!=typeof i||i.length<3)throw new Error("'color' must be a valid string format ( e.g., '#FFF' or 'red' ).");this.radius=t,this.color=i,this.opacity=e,this.fill=s,this.user_data=n},methods:{render(t){if(t.save(),t.globalAlpha=this.opacity,this.M101){const i=this.getImageAspectRatio();if(Number.isFinite(i)){const e=this.getImage(),s=this.position[0],n=this.position[1],r=(e.width,e.height,this.M10,2*this.radius),h=r*i;t.drawImage(e,s-h/2,n-r/2,h,r)}}else t.beginPath(),t.arc(...this.position,this.radius,0,Jt),this.fill?(t.fillStyle=this.color,t.fill()):(t.strokeStyle=this.color,t.stroke());t.restore()},resetRender(){this.resetImage(),this.fill=$t}}}),Zt=Kt({init({position:t,velocity:i}){this.position=this.validateVector(t),this.velocity=this.validateVector(i),this.acceleration=Yt.create()},methods:{applyForce(t){Yt.add(this.acceleration,this.acceleration,t)},updatePhysics(t=1){Yt.scaleAndAdd(this.velocity,this.velocity,this.acceleration,t),Yt.scaleAndAdd(this.position,this.position,this.velocity,t),Yt.zero(this.acceleration)},resetPhysics(){Yt.zero(this.position),Yt.zero(this.velocity),Yt.zero(this.acceleration)}}}),ti=Kt({props:{age:0,alive:!1},init({life:t=120}){if(!Number.isFinite(t)||t<=0)throw new Error("'life' must be a positive number.");this.life=t},methods:{updateLife(t=1){return this.age+=t,this.alive=this.age<this.life,this.alive},resetLife(){this.age=0,this.alive=!1}}}),ii=Kt({methods:{config(t={}){if(this.opacity=(t.opacity??this.opacity)||1,this.radius=(t.radius??this.radius)||3,this.color=(t.color??this.color)||Xt,this.life=(t.life??this.life)||120,this.fill=t.fill??$t,t.position&&Yt.copy(this.position,this.validateVector(t.position)),t.velocity&&Yt.copy(this.velocity,this.validateVector(t.velocity)),!Number.isFinite(this.radius)||this.radius<=0)throw new Error("'radius' must be a positive number.");if(!Number.isFinite(this.opacity)||this.opacity<0||this.opacity>1)throw new Error("'opacity' must be a number between 0.0 and 1.0.");if(!Number.isFinite(this.life)||this.life<=0)throw new Error("'life' must be a positive number.")}}}),ei=Kt().compose(Vt,Rt,Qt,Zt,ti,ii,Kt({methods:{reset(){this.resetRender(),this.resetPhysics(),this.resetLife()}}})),si=Gt({init({object_stamp:t,pool_size:i=1e3}){if("function"!=typeof t)throw new Error("'object_stamp' must be a constructor function ( a stamp or factory ).");if(!Number.isInteger(i)||i<=0)throw new Error("'pool_size' must be a positive integer.");this.makeReadOnly({pool_size:i,object_stamp:t})}}),ni=Gt({init(t,{instance:i}){const e=new Array(this.pool_size);let s=0;const n=new WeakMap;for(let t=0;t<this.pool_size;t++){const i=this.object_stamp();i.reset(),e[t]=i}i._setIndex=function(t,i){n.set(t,i)},i.get=function(){if(s>=this.pool_size)return null;const t=e[s];return n.set(t,s),s++,t},i.free=function(t){const i=n.get(t);if(void 0===i||i>=s)return!1;s--;const r=e[s];return e[s]=t,e[i]=r,t!==r&&n.set(r,i),t.reset(),n.delete(t),!0},i.getActiveCount=function(){return s},i._getPoolArray=function(){return e}}}),ri=Gt({methods:{M154:function(t){const i=this._getPoolArray();let e=0;for(;e<this.getActiveCount();){const s=i[e];this._setIndex(s,e),!1!==t(s)?e++:this.free(s)}},M192:function(t){this._getPoolArray().forEach(i=>t(i))}}}),hi=Gt().compose(Wt,si,ni,ri);import{fromValues as oi,copy as ai,random as li,create as ci}from"vec2";var ui={fromValues:oi,copy:ai,random:li,create:ci},di=ui.create(),Scoundrel=class{#de=null;#_e=!1;#Me=null;#pe=-1;#Qi=null;#ni=!1;#fe=ui.create();#me=null;#ge=0;#we=null;#ye=null;#ve=null;#be=null;#Ee=0;#xe=0;#ke=t("IGI_HealthLeft").childNodes[0];#Le=t("IGI_HealthRight").childNodes[0];constructor(t){this.#pe=this.#Ce(),this.#de=new yt({game_name:"SCOUNDREL",game_designer:"Zach Gage and Kurt Bieg",game_build:t,start_page:i.M17("page",gt),page_mode:yt.K113,on_resize:this.M140.bind(this),on_click:this.M168.bind(this),on_page:this.M193.bind(this)}),this.#Qi=this.#de.M167(wt),this.#ge=this.#de.M99,this.#ni=this.#de.M84(),this.#Ie(),this.#Ae(),this.#Ne(),this.#Te(),this.#ni||(this.#de.M167(wt).style.visibility="hidden")}M140(t,i,e){this.#Me.M140(t,i,e),this.#we.width=t,this.#we.height=i,this.#ye.width=t,this.#ye.height=i,this.#ge=e}M168(t,e,s){this.#_e&&(i.M47||this.#ni)&&this.#Me.M168(t,e,s)}M193(t,i){const e=this.#_e;this.#_e=t===wt,this.#_e&&(this.#de.M137(),e||window.requestAnimationFrame(this.#De.bind(this)),i&&this.#Ke())}M142(i,e){if("string"!=typeof i)throw new Error("! "+i+" = "+typeof i);switch(i){default:return;case Dt.K42:let i=e.value;Number.isFinite(i)&&!Number.isInteger(i)&&(i=Math.round(i)),this.#Re(e.key,i);break;case d:let s=e.value;Number.isFinite(s)&&!Number.isInteger(s)&&(s=Math.round(s)),this.#Re(e.key,s,e.center);break;case c:const n=t("deck_seed");n&&(n.innerText=e);break;case u:break;case _:this.#Se(e.position,e.status);break;case M:this.#Ee=e?1:-1}}async#Te(){await this.#de.M113("./assets/theme-2.svg","card-sprite-sheet")}#Ke(){this.#de.M137(!1),this.#Ee=0,this.#Me.M203(),t("damage").classList.remove("Score"),t("damage").innerHTML="&nbsp;"}#Ae(){this.#Me=new Dt({on_message_request:(t,i)=>this.M142(t,i),V24:["health"],parent_node:this.#de.M167(wt)}),this.#Me.M140(this.#de.M201,this.#de.M188).M60(this.#pe)}#Ne(){const t=document.createElement("canvas");t.id="canvas_clicks",t.width=window.innerWidth,t.height=window.innerHeight,t.style.zIndex=200,this.#Qi.appendChild(t);const i=document.createElement("canvas");i.id="canvas_particles",i.width=window.innerWidth,i.height=window.innerHeight,i.style.zIndex=100,this.#Qi.appendChild(i),this.#be=t.getContext("2d"),this.#ve=i.getContext("2d"),this.#ye=t,this.#we=i,this.#me=hi({object_stamp:ei,pool_size:1e4}),this.#me.M192(t=>{t.user_data={click:!0}})}#De(t){this.#_e&&(this.#xe,this.#xe=t,this.#me.M154(t=>{if(!t.updateLife())return t.user_data.click=!0,!1}),this.#be.clearRect(0,0,window.innerWidth,window.innerHeight),this.#ve.clearRect(0,0,window.innerWidth,window.innerHeight),this.#me.M154(t=>{t.opacity=e.M148(t.age,t.life,5),t.updatePhysics();const i=t.user_data.click;i&&(t.radius*=1.05),t.render(i?this.#be:this.#ve)}),0!==this.#Ee&&this.M143(this.#ve,1===this.#Ee?"SUCCESS":"YOU LOST",this.#ge),window.requestAnimationFrame(this.#De.bind(this)))}#Pe(){const t=window.visualViewport.width,i=window.visualViewport.height,e=Math.min(t,i),s=.03*e,n=Math.floor((e-s-this.#ge-s)/5),r=(t-5*n-this.#ge-s)/2,h=Math.floor(n/.7),o=Math.floor((i-4*h)/2);_i(this.#ve,r,o,n,h,5,4)}#Se(t,i){if(i)return;const e=this.#me.get();e&&(e.config({position:t,velocity:di,color:i?"lime":"darkorange",life:i?60:30,radius:10,opacity:1,fill:!i}),e.user_data.click=!0)}#Oe(t,i=!0,s=0){const n=this.#me.get();if(!n)return;let r=i?"crimson":"white";n.config({position:t,velocity:ui.random(this.#fe,e.M67(.9,1.1)),color:r,life:60*e.M67(1,3),radius:e.M103(s,s+3)||e.M67(1,3),opacity:1,fill:!0}),n.user_data.click=!1}#Ce(){let t=i.M17("level",2,!0);return[1,2,3].includes(t)||(t=2),t}#Ie(){}#Re(i,e,s=null){if("health"===i){const t=Math.round(e/20*100);this.#ke.style.width=t+"%",this.#Le.style.width=t+"%"}else if("damage"===i)if(e<0)e="&nbsp;";else{const t=10*e;for(let i=0;i<t;++i)this.#Oe(s,!0,e);e=-e}else{if("CanRun"===i||"CanHeal"===i)return void(e?t(i).classList.add("Active"):t(i).classList.remove("Active"));if("score"===i){const i=t("damage");return i.innerHTML=e,void i.classList.add("Score")}}const n=t(i);n&&(n.innerHTML=e)}M143(t,i="",e=0){const s=t.canvas.width-e,n=t.canvas.height,r=Math.floor(.18*s);t.font="bold "+r+"px card-game",t.fillStyle="rgba( 100, 149, 237, 0.50 )",t.textAlign="center",t.textBaseline="middle",t.fillText(i,s/2,n/2)}},_i=(t,i,e,s,n,r,h)=>{const o=r*s,a=h*n;t.strokeStyle="orange",t.beginPath();for(let n=0;n<=r;n++){const r=i+n*s;t.moveTo(r,e),t.lineTo(r,e+a)}for(let s=0;s<=h;s++){const r=e+s*n;t.moveTo(i,r),t.lineTo(i+o,r)}t.stroke()};export{Scoundrel};