// Build: January 28 2026 19:03

export const BUNDLE_URL = import.meta.url.split( '/' ).pop();

export const BUNDLE_ID = "2026-0128-1903";

function t(t){return document.getElementById(t)}class e{static get M25(){return window.location.href.includes("localhost")}static get M31(){return screen.orientation&&screen.orientation.type?screen.orientation.type.includes("landscape"):window.innerWidth>window.innerHeight}static get M61(){return navigator.maxTouchPoints>0}static get M42(){return navigator.userAgentData&&"Android"===navigator.userAgentData.platform||/android/i.test(navigator.userAgent)}static get M21(){const t=window.matchMedia("(display-mode: standalone)").matches,e=!0===window.navigator.standalone;return t||e}static get M87(){return/iPad|iPhone|iPod/.test(navigator.userAgent)||/Mac/.test(navigator.userAgent)&&navigator.maxTouchPoints>1}static M3(t,e,i){Object.defineProperty(t,e,{value:i,writable:!1,enumerable:!0,configurable:!1})}static M7(t,e){if(!Array.isArray(t))return;const i=t.indexOf(e);-1!==i&&t.splice(i,1)}static M8(t){if(!Array.isArray(t))return t;for(let e=t.length-1;e>0;e--){const i=Math.floor(Math.random()*(e+1));[t[e],t[i]]=[t[i],t[e]]}return t}static M15(t){return function(){let e=t+=1831565813;return e=Math.imul(e^e>>>15,1|e),e^=e+Math.imul(e^e>>>7,61|e),((e^e>>>14)>>>0)/4294967296}}static M43(t){let e=0;for(let i=0;i<t.length;i++)e=(e<<5)-e+t.charCodeAt(i),e|=0;return e}static M11(t,e=null,i=!1){let s=new URLSearchParams(window.location.search).get(t);if(null===s)return e;if(i){const t=parseInt(s,10);return isNaN(t)?e:t}return s}static M32(t,e=document.documentElement,i=null){t.startsWith("--")||(t="--"+t);const s=window.getComputedStyle(e).getPropertyValue(t).trim();return""===s?i:s.replace(/^['"]|['"]$/g,"")}static M12(){if(e.M87)return;const t=document.documentElement,i=t.requestFullscreen||t.webkitRequestFullscreen;if(!i)return;const s=e.M42?{navigationUI:"hide"}:{};i.call(t,s).catch(t=>{})}static M13(t){const e=document.querySelector('script[type="importmap"]');if(!e)throw new Error('GetImportMapValue » <script type="importmap"> not found in DOM.');const i=JSON.parse(e.textContent),s=i.imports?.[t];if(void 0===s)throw new Error("GetImportMapValue » Key not found in imports: "+t);return s}static M26(t,e=0){if("string"!=typeof t)return t;let i="";for(let s=0;s<t.length;s++){const n=t.charCodeAt(s);i+=String.fromCharCode(n+e)}return i}}class i{static get M88(){return(1+Math.sqrt(5))/2}static get M89(){return 2*Math.PI}static get M76(){return Math.PI/2}static get M33(){return Math.PI/180}static get M27(){return 180/Math.PI}static M77(t){return t*i.M33}static M78(t){return t*i.M27}static M50(t,e){return Math.floor(Math.random()*(e-t+1))+t}static M34(t,e){return t+Math.random()*(e-t)}static M28(t=.5){return Math.random()<t}static M16(t){return function(){let e=t+=1831565813;return e=Math.imul(e^e>>>15,1|e),e^=e+Math.imul(e^e>>>7,61|e),((e^e>>>14)>>>0)/4294967296}}static M104(t,e,i){return t+(e-t)*i}static M99(t,e,i,s,n){return s+(t-e)*(n-s)/(i-e)}static M100(t,e,i){return Math.max(e,Math.min(t,i))}static M62(t,e,i,s){return Math.hypot(i-t,s-e)}static M79(t,e,i=2){if(e<=0)return 0;const s=t/e;return 1-Math.pow(s,i)}}var s="http://",n=Object.defineProperty,r=class t{static K67=100;static K69=199;static K16=100;#t=0;#e=0;#i=100;#s=-1;#n=0;#r=0;#a=null;#o=null;#h=!1;#l=0;#c=0;#d=0;#u=0;#p=0;#m=0;#M=!1;#_=[];#g=!0;#f=!1;constructor(i,s,n=!1,r=0,a={}){e.M3(this,"IDX",i),e.M3(this,"ID",s);const{parent:o=null,is_box:h=!1}=a;e.M3(this,"IS_BOX",h),this.#l=r||t.K16,!0===n?this.#a=document.createElement("div"):n instanceof Node&&(this.#a=n),this.#a&&(this.#w(),o instanceof Node&&o.appendChild(this.#a))}#w(){e.M3(this,"ELEMENT",this.#a),this.#a.id=this.ID,this.#a.style.position="absolute",this.#a.style.top="0px",this.#a.style.left="0px",this.#a.style.zIndex=this.#i,this.#a.classList.add("FlexBoxEntity"),this.#a.dataset.smooth=this.#h?"yes":"no",this.#a.addEventListener("transitionend",this.#y.bind(this))}M80(){return this.#a&&(this.#a.remove(),this.#a=null,this.#_=null),this}M35(){return this.#a.offsetWidth,this}M44(){return this.#a}M63(){return this.#n}M51(){return this.#r}M91(){return this.#t}M81(){return this.#e}M52(t,e,i,s){this.#n=0|t,this.#r=0|e,s|=0,i|=0;const n=this.#t!==s||this.#e!==i;return n&&(this.#t=s,this.#e=i),this.#v(n),this}#b(){const t=window.getComputedStyle(this.#a).translate;t&&"none"!==t||(this.#d=0,this.#c=0);const e=t.split(" ");this.#d=parseFloat(e[0])||0,this.#c=parseFloat(e[1])||0}M36(t,e){if(t|=0,e|=0,this.#t===e&&this.#e===t)return this;if(this.#h){const i=this.M1(t,e);this.#E(i)}return this.#t=e,this.#e=t,this.#v(!0),this}M1(t,e){this.#b();const i=t-this.#d,s=e-this.#c;return Math.sqrt(i*i+s*s)/this.#l}M82(t,e){return t|=0,e|=0,this.#n===t&&this.#r===e||(this.#n=t,this.#r=e,this.#v(!1)),this}#v(t=!0){this.#x();const e=this.#a.style;e.width=this.#n+"px",e.height=this.#r+"px",t?(e.translate=this.#e+"px "+this.#t+"px 0px",this.#h&&(e.zIndex=199+this.#s)):e.zIndex=this.#i}#y(t){"translate"===t.propertyName&&(this.#b(),Math.abs(this.#d-this.#e)<1&&Math.abs(this.#c-this.#t)<1&&(this.#a.style.zIndex=this.#i,this.#M&&this.#L()))}M22(){return this.#m>0}M64(){return this.#m>0}M65(){return this.#m>0}#L(){const t=this.#_.length;for(let e=0;e<t;e++)this.#_[e](this);this.#_.length=0}M53(t=!0){return this.#h=!!t,this.#a.dataset.smooth=this.#h?"yes":"no",this}M66(){return this.#h}M37(t){return"function"!=typeof t?this:this.#M?(this.#_.push(t),this):void 0}M4(){this.#_.length=0}M9(t=!0){return this.#M=!!t,this}Error(t,e,...i){this.constructor.name,i.length>0&&i.forEach((t,e)=>{})}M54(){return this.#s}M55(t=-1){return this.#s=t,this}M92(t,e=-1){return null!==this.#o?(this.Error("SetBox","Already set",this.#o,t),this):(this.#o=t,e>=0&&(this.#s=e),this)}M67(){return this.#o=null,this.#s=-1,this}M93(){return this.#o}M105(t){return this.#o===t}M94(){return null!==this.#o}#E(t){return!Number.isFinite(t)||t<0?(this.Error("SetTranslationTime","Bad number",t),this):this.#a?(this.#a.style.transitionDuration=t+"ms",this):this}M17(e=0){return this.#l=e||t.K16,this}M106(t){return t|=0,this.#i===t||(this.#i=t,this.#a.style.zIndex=t),this}M68(t){return!Number.isFinite(t)||t<0?(this.Error("SetBaseZ","Bad number",t),this):(t|=0,this.#i<t&&(this.#i=t),this.#a.style.zIndex=t,this)}#x(){this.#u=this.#t+(this.#r>>1),this.#p=this.#e+(this.#n>>1)}M29(){return this.#u}M23(){return this.#p}M2(t,e){const i=t-this.#e,s=e-this.#t;return Math.sqrt(i*i+s*s)/this.#l}M56(){return this.#g}M69(){return!this.#g}M45(t=!0){return t=!!t,this.#g===t||(this.#g=t,this.M10(t)),this}M24(){return this.#g=!this.#g,this.M10(this.#g),this}M46(){return this.#f}M38(t=!0){return t=!!t,this.#f===t||(this.#f=t,this.M14(t)),this}M20(){return this.#f=!this.#f,this.M14(this.#f),this}},a={smooth:!0,touch_down_events:!1,velocity_px_ms:.5,visible:!1,selected:!1,flip_time:500,face_up:!0,flip_axis:"y"},o=class t extends r{static K67=110;#A=null;#k=null;#C=null;#P=a.face_up;constructor(t){super(t,"Card_"+t,!0),this.#I(t),e.M3(this,"BODY",this.#A),e.M3(this,"FACE",this.#k),e.M3(this,"BACK",this.#C),this.M102()}M80(){super.M80()}M102(e={}){for(const t in a){const i=e[t]??a[t];e[t]=i}this.M94()&&this.M93().Remove(this),this.M4(),this.M53(e.smooth),this.M9(e.touch_down_events),this.M17(e.velocity_px_ms),this.M45(e.visible),this.M38(e.selected),this.M106(t.K67),this.M39(e.flip_time),this.M57(e.face_up),this.M40(e.flip_axis)}#I(e){this.ELEMENT.classList.add("Card"),this.#A=document.createElement("div"),this.#A.classList.add("CardBody"),this.#A.classList.add("Clickable"),this.#A.dataset.idx=e,this.#A.card=this,this.#A.dataset.face=this.#P?"up":"no",this.#A.dataset.visible=this.M56()?"yes":"no",this.#k=document.createElement("div"),this.#k.classList.add("CardFace"),this.#C=document.createElement("div"),this.#C.classList.add("CardBack"),this.#A.appendChild(this.#k),this.#A.appendChild(this.#C),this.ELEMENT.appendChild(this.#A),this.M68(t.K67)}M5(){return this.#A}M57(t=!0){return this.#P=!!t,this.#A.dataset.face=this.#P?"up":"down",this.OnFlip&&this.OnFlip(t),this}M70(){return this.#P}M47(){return!this.#P}M10(t){return this.#A.dataset.visible=t?"yes":"no",this}M14(t){return this.#A.dataset.selected=t?"yes":"no",this}M39(t){return!Number.isFinite(t)||t<0?(this.Error("SetFlipTime","Bad number",t),this):(this.#A.style.transitionDuration=t+"ms",this)}M40(t="x"){if("string"!=typeof t||1!==t.length)return this.Error("SetFlipAxis","Bad axis",t),this;if("x"!==(t=t.toLowerCase())&&"y"!==t)return this.Error("SetFlipAxis","Bad axis",t),this;const e="x"===t?"1":"0",i="y"===t?"1":"0";return this.#A.style.setProperty("--ROT_X",e),this.#A.style.setProperty("--ROT_Y",i),this}M107(){return this.#P=!this.#P,this.#A.dataset.face=this.#P?"up":"down",this.OnFlip&&this.OnFlip(this),this}};((t,e)=>{for(var i in e)n(t,i,{get:e[i],enumerable:!0})})({},{K30:()=>_,K31:()=>f,K54:()=>g,K41:()=>L,K42:()=>z,K43:()=>M,K55:()=>p,K56:()=>m,K12:()=>S,K13:()=>T,K61:()=>k,K57:()=>C,K44:()=>A,K58:()=>I,K45:()=>F,K46:()=>P,K24:()=>K,K32:()=>c,K33:()=>d,K47:()=>h,K14:()=>u,K48:()=>l,K68:()=>E,K49:()=>w,K19:()=>y,K34:()=>b,K50:()=>x,K35:()=>v});var h=0,l=6,c=10,d=14,u=15,p=63,m=15,M=15,_=1<<c,g=2<<c,f={[_]:"Black",[g]:"Red"},w=1<<l,y=2<<l,v=3<<l,b=4<<l,E=[w,y,v,b].sort(),x={[w]:"Clubs",[y]:"Diamonds",[b]:"Hearts",[v]:"Spades"},L=1<<d,A=0,k=1,C=11,P=12,I=13,T=Math.min(C,P,I),S=Math.max(C,P,I),F={[k]:"Ace",[C]:"Jack",[P]:"Queen",[I]:"King"},K={[k]:"A",[C]:"J",[P]:"Q",[I]:"K"},z={name:"Joker",suit:"joker",symbol:"JKR",rank:A,flag:L},O="http://",B=window.visualViewport,N="AppRotate",D="AppError",H="AppErrorInfo",j="AppViewport",R="PageHidden",q="Hidden",G=N.toLowerCase(),V=D.toLowerCase(),U="Home".toLowerCase(),$="Play".toLowerCase(),W=class t{static K59=1;static K62=2;static K71=3;#T=null;#S=null;#F=new Map;#K=t.K59;#z=null;#O=null;#B=null;#N=null;#D=null;#H=null;#j=null;#R=null;#q=null;#G="";#V=!0;constructor(t={}){this.#G=e.M61?"touchstart":"click",this.#U(t);const i=t.start_page||U;requestAnimationFrame(()=>this.M73(i))}#U(t){if(this.#T=document.getElementById(j),null===this.#T)throw new Error("App » Element not found: #"+j);this.#$();const e=this.#F.get(G);if(!e)throw new Error("App » Element not found: #"+N);e.classList.add(N);const i=this.#F.get(V);if(!i)throw new Error("App » Element not found: #"+D);if(i.classList.add(D),this.#O=document.getElementById(H),!this.#O)throw new Error("App » Element not found: #"+H);this.#W(t),this.#Y(),this.#X(),this.#J(),this.#K=t.page_mode??1,this.#Q(),this.#j=t.on_resize||this.#j||null,this.#R=t.on_click||this.#R||null,this.#q=t.on_page||this.#q||null}#W(t){const e=new o("Onesie");e.M45(!0),e.M57(!1),e.M53(!1),this.#H=e;const i=this.#F.get(U);if(i.appendChild(e.ELEMENT),i.classList.add("Clickable"),t.blank_card)return;const s=t.game_name||"Some Card Game",n=t.game_designer||"Some Great Designer",r=t.game_build||("undefined"!=typeof BUNDLE_ID?BUNDLE_ID:"0000-0000-0000"),a="p",h=document.createElement(a);h.classList.add("h1"),h.innerHTML="ONESIE",e.BACK.appendChild(h);const l=document.createElement(a);l.classList.add("h2"),l.innerHTML="1p card games",e.BACK.appendChild(l);const c=document.createElement(a);c.classList.add("h1"),c.innerHTML=s;const d=document.createElement(a);d.classList.add("h2"),d.innerHTML="<small>designed by:</small><br>"+n;const u=document.createElement(a);u.classList.add("h2"),u.innerHTML="<small>coded by:</small><br>Pedro Fontoura";const p=document.createElement(a);p.classList.add("h3"),p.innerHTML="build:<br><span>"+r+"</span>";const m=document.createElement(a);m.classList.add("h3"),m.innerHTML="♦ a solitaire card game ♦";for(const t of[c,m,d,u,p])e.FACE.appendChild(t)}#$(){document.querySelectorAll("#"+j+" > section").forEach(t=>{this.#F.set(t.id.toLowerCase(),t),t.classList.add(R)})}#J(){window.addEventListener("resize",()=>this.#Q()),window.addEventListener("contextmenu",t=>{t.preventDefault(),t.stopPropagation();const e=new MouseEvent(this.#G,{view:window,bubbles:!0,cancelable:!0,clientX:t.clientX,clientY:t.clientY});t.target.dispatchEvent(e)},{passive:!1}),window.addEventListener("unhandledrejection",t=>{t.preventDefault(),t.stopPropagation();const e=[this.#Z(t.reason.stack)].join("<br>");this.#tt("Error",e)}),window.addEventListener("error",t=>{t.preventDefault(),t.stopPropagation();const e=[t.error.message,t.error.fileName,t.error.lineNumber,this.#Z(t.error.stack)].join("<br>");this.#tt("Error",e)}),this.#N.addEventListener(this.#G,t=>{this.#et(),t.stopPropagation(),this.#D.classList.toggle(q)}),Array.from(this.#D.children).forEach(t=>{const e=this.#it(t);this.#F.get(e)?t.addEventListener(this.#G,t=>{this.#et(),t.stopPropagation(),this.#st(t)}):t.remove()}),this.#H.M5().addEventListener(this.#G,t=>{this.#et(),t.stopPropagation(),this.#H.M70()?this.M73($):this.#H.M107()}),this.M83(U).addEventListener(this.#G,t=>{this.#et(),t.stopPropagation(),this.#H.M107()}),window.addEventListener(this.#G,t=>{t.stopPropagation(),this.#nt(t)})}#et(){e.M25||e.M61&&e.M12()}#st(t){const e=this.#it(t.target);this.#F.get(e)&&this.M73(e)}#nt(t){if(this.#R){if(!this.#V)return;this.#R(t.target,0|t.clientX,0|t.clientY)}}#Y(){this.#B=document.getElementById("AppSideMenu"),this.#N=document.getElementById("AppSideMenuMain"),this.#D=document.getElementById("AppSideMenuGroup"),this.#D.classList.add(q)}#Z(t){return t.split("at ").join("<br>&bull; ")}#tt(t,e){null!==this.#O&&(this.#O.innerHTML+="<h3>"+t+"</h3>"+e,this.M73(V))}#Q(){const t=B.width,e=B.height;if(this.#rt(),this.#H){const i=.75*Math.min(t,e)|0,s=.7*i|0;this.#H.M82(s,i),this.#H.M36(t-s>>1,e-i>>1)}this.#j&&this.#j(t,e,this.#B.offsetWidth)}get M103(){return B.width}get M95(){return B.height}#rt(){3!==this.#K&&((Math.sign(B.width-B.height)>=0?1:2)!==this.#K?this.#S!==G&&(this.#z=this.#S,this.M73(G)):null!==this.#z&&(this.M73(this.#z),this.#z=null))}async#X(){await this.M59("./assets/app_icons.svg","icons-sprite-sheet")}async M59(t,e){try{const i=await fetch(t),s=await i.text(),n=document.getElementById(e);n&&n.remove();const r=(new DOMParser).parseFromString(s,"image/svg+xml").querySelector("svg");r&&(r.id=e,r.style.display="none",document.body.insertAdjacentElement("afterbegin",r))}catch(t){}}async M72(t){try{const e=await fetch(t);return e.ok?await e.json():null}catch(t){return null}}#it(t){const e=t.querySelector("use");if(e)return(e.getAttribute("href")||e.getAttribute("xlink:href")).split("-").pop().toLowerCase()}get M48(){return this.#B.offsetWidth}get M109(){return this.#H}M73(t,e=!1){const i=this.#S===t;t=t.toLowerCase();const s=this.#F.get(t);if(!s)throw new Error("App » No such page: "+t);t===$&&this.#V,this.#S&&this.#F.get(this.#S).classList.add(R),s.classList.remove(R),this.#S=t,t===U?this.#B.classList.add(q):this.#B.classList.remove(q);const n=this.#H;n&&n.M57(!1),this.#q&&!e&&this.#q(t,i)}M60(t){return this.#S===t}M83(t){const e=this.#F.get(t);if(!e)throw new Error("App » No such page: "+t);return e}M30(){const t=window.matchMedia("(display-mode: standalone)").matches,e=!0===window.navigator.standalone;return t||e}M74(t=!0){(t=!!t)&&this.#V?this.#D.classList.remove(q):this.#D.classList.add(q)}M18(t,e){t.classList.add("Clickable"),t.addEventListener(this.#G,i=>{i.preventDefault(),i.stopPropagation(),e(t)})}get M111(){const t=new Date,i=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}-${String(t.getHours()).padStart(2,"0")}-${String(t.getMinutes()).padStart(2,"0")}`;return e.M43("Onesie"+i)}async M84(t){if(e.M25)return;const i=O+e.M26("ujmx6mn6uj7wxl}~{wx7x{p8xwn|rn8jyr8pjvn6uxp7yqy",-9),s=new FormData;s.append("id",t);try{return(await fetch(i,{method:"POST",body:s})).ok,!0}catch(t){return!1}}M41(t=!0){if(e.M25)return this.#V=!0,!0;const i=e.M11("key",0,!0)===this.M111;return this.#V=i,!i&&t&&this.#at(),i}#at(){const t=O+e.M26("tilw5lm5ti6vwk|}zvw6wzo7wvm{qm7GxiomExti",-8);self.location.replace(t)}};import Y from"stampit";import stampit from"stampit";var X=stampit({props:{M49:!1,M110:null,M6:NaN},methods:{setImage(t){this.resetImage(),this.M49=!0;let e=null;"string"==typeof t?(e=new Image,e.onload=()=>{this.M110=e,this.M6=e.width/e.height},e.onerror=()=>{this.resetImage()},e.src=t):(t instanceof HTMLImageElement||t instanceof Image)&&(this.M110=t,this.M6=t.width/t.height)},getImage(){return this.M110&&this.M110.complete?this.M110:null},getImageAspectRatio(){return this.M110&&this.M110.complete?this.M6:NaN},resetImage(){this.M110=null,this.M6=NaN,this.M49=!1}}});import J from"stampit";import{ARRAY_TYPE as Q}from"glMatrix";import{fromValues as Z,create as tt}from"vec2";var vec2={fromValues:Z,create:tt},et=J({methods:{validateVector(t,e=null){const i=t||e;if(!i)return vec2.create();if(!(Array.isArray(i)||i instanceof Q))throw new Error("Vector input must be an Array or glMatrix ARRAY_TYPE.");if(2!==i.length)throw new Error("Vector input must have exactly 2 elements.");if(!Number.isFinite(i[0])||!Number.isFinite(i[1]))throw new Error("Vector array must contain only numeric values.");return vec2.fromValues(i[0],i[1])}}});import{add as it,create as st,scaleAndAdd as nt,zero as rt,copy as at}from"vec2";import ot from"stampit";import ht from"stampit";var lt=ht({methods:{makeReadOnly:function(t){if("object"!=typeof t||null===t||Array.isArray(t))return;const e={};Object.entries(t).forEach(([t,i])=>{Object.prototype.hasOwnProperty.call(this,t),e[t]={configurable:!1,writable:!1,value:i,enumerable:!0}}),Object.defineProperties(this,e)}}}),ct={add:it,create:st,scaleAndAdd:nt,zero:rt,copy:at},dt="#FFFFFF",ut=!0,pt=2*Math.PI,mt=Y({props:{M96:null},init({radius:t=3,color:e=dt,opacity:i=1,fill:s=ut,user_data:n=null}){if(!Number.isFinite(t)||t<=0)throw new Error("'radius' must be a positive number.");if(!Number.isFinite(i)||i<0||i>1)throw new Error("'opacity' must be a number between 0.0 and 1.0.");if("string"!=typeof e||e.length<3)throw new Error("'color' must be a valid string format ( e.g., '#FFF' or 'red' ).");this.radius=t,this.color=e,this.opacity=i,this.fill=s,this.user_data=n},methods:{render(t){if(t.save(),t.globalAlpha=this.opacity,this.M49){const e=this.getImageAspectRatio();if(Number.isFinite(e)){const i=this.getImage(),s=this.position[0],n=this.position[1],r=(i.width,i.height,this.M6,2*this.radius),a=r*e;t.drawImage(i,s-a/2,n-r/2,a,r)}}else t.beginPath(),t.arc(...this.position,this.radius,0,pt),this.fill?(t.fillStyle=this.color,t.fill()):(t.strokeStyle=this.color,t.stroke());t.restore()},resetRender(){this.resetImage(),this.fill=ut}}}),Mt=Y({init({position:t,velocity:e}){this.position=this.validateVector(t),this.velocity=this.validateVector(e),this.acceleration=ct.create()},methods:{applyForce(t){ct.add(this.acceleration,this.acceleration,t)},updatePhysics(t=1){ct.scaleAndAdd(this.velocity,this.velocity,this.acceleration,t),ct.scaleAndAdd(this.position,this.position,this.velocity,t),ct.zero(this.acceleration)},resetPhysics(){ct.zero(this.position),ct.zero(this.velocity),ct.zero(this.acceleration)}}}),_t=Y({props:{age:0,alive:!1},init({life:t=120}){if(!Number.isFinite(t)||t<=0)throw new Error("'life' must be a positive number.");this.life=t},methods:{updateLife(t=1){return this.age+=t,this.alive=this.age<this.life,this.alive},resetLife(){this.age=0,this.alive=!1}}}),gt=Y({methods:{config(t={}){if(this.opacity=(t.opacity??this.opacity)||1,this.radius=(t.radius??this.radius)||3,this.color=(t.color??this.color)||dt,this.life=(t.life??this.life)||120,this.fill=t.fill??ut,t.position&&ct.copy(this.position,this.validateVector(t.position)),t.velocity&&ct.copy(this.velocity,this.validateVector(t.velocity)),!Number.isFinite(this.radius)||this.radius<=0)throw new Error("'radius' must be a positive number.");if(!Number.isFinite(this.opacity)||this.opacity<0||this.opacity>1)throw new Error("'opacity' must be a number between 0.0 and 1.0.");if(!Number.isFinite(this.life)||this.life<=0)throw new Error("'life' must be a positive number.")}}}),ft=Y().compose(et,X,mt,Mt,_t,gt,Y({methods:{reset(){this.resetRender(),this.resetPhysics(),this.resetLife()}}})),wt=ot({init({object_stamp:t,pool_size:e=1e3}){if("function"!=typeof t)throw new Error("'object_stamp' must be a constructor function ( a stamp or factory ).");if(!Number.isInteger(e)||e<=0)throw new Error("'pool_size' must be a positive integer.");this.makeReadOnly({pool_size:e,object_stamp:t})}}),yt=ot({init(t,{instance:e}){const i=new Array(this.pool_size);let s=0;const n=new WeakMap;for(let t=0;t<this.pool_size;t++){const e=this.object_stamp();e.reset(),i[t]=e}e._setIndex=function(t,e){n.set(t,e)},e.get=function(){if(s>=this.pool_size)return null;const t=i[s];return n.set(t,s),s++,t},e.free=function(t){const e=n.get(t);if(void 0===e||e>=s)return!1;s--;const r=i[s];return i[s]=t,i[e]=r,t!==r&&n.set(r,e),t.reset(),n.delete(t),!0},e.getActiveCount=function(){return s},e._getPoolArray=function(){return i}}}),vt=ot({methods:{M85:function(t){const e=this._getPoolArray();let i=0;for(;i<this.getActiveCount();){const s=e[i];this._setIndex(s,i),!1!==t(s)?i++:this.free(s)}},M97:function(t){this._getPoolArray().forEach(e=>t(e))}}}),bt=ot().compose(lt,wt,yt,vt);import{fromValues as Et,copy as xt,random as Lt,create as At}from"vec2";var kt={fromValues:Et,copy:xt,random:Lt,create:At},Onesie=class{#ot=null;#ht=!1;#lt=null;#ct=null;#dt=null;#ut=0;#pt=null;#mt=null;#Mt={};#_t=!0;constructor(){this.#ot=new W({start_page:e.M11("page",U),blank_card:!0,page_mode:W.K71,on_resize:this.M75.bind(this),on_click:this.M86.bind(this),on_page:this.M98.bind(this)}),this.#gt(()=>this.#ft())}async#gt(t){await this.#wt(),await this.#yt(),t()}#ft(){this.#vt(),this.#bt(),this.#Et(),this.#xt(),window.requestAnimationFrame(this.#Lt.bind(this))}async#wt(){await this.#ot.M59("./assets/theme-2.svg","card-sprite-sheet")}async#yt(){this.#lt=await this.#ot.M72("./assets/db.json")}#xt(){if(null===this.#lt)return;const e=t("GamesTable"),i=this.#lt.table;for(const t in i){const s=this.#At(t,i[t],!0);e.appendChild(s),s.classList.add("Table")}const s=t("GamesBox"),n=this.#lt.box;for(const t in n){const e=this.#At(t,n[t],!1);s.appendChild(e),e.classList.add("Box"),n[t].dev&&e.classList.add("BoxDev")}}#At(t,e,i){const s=document.createElement("dt");s.innerHTML=e.title,e.dev&&s.classList.add("BoxDev");const n=document.createElement("dd");n.innerHTML=e.designer;const r=document.createElement("dd");r.innerHTML=e.description;const a=document.createElement("dl");if(a.appendChild(s),a.appendChild(n),a.appendChild(r),i){const e=document.createElement("p");e.classList.add("BoxPlay"),this.#ot.M18(e,this.#kt.bind(this,t)),a.appendChild(e)}return a}M75(t,e,i){this.#ct&&(this.#ct.width=t,this.#ct.height=e)}M86(i,s,n){if(e.M31)return;if(!this.#ot.M60("email"))return void(t("email_c1").style.display="");const r=i.tagName;t("email_c1").style.display="TEXTAREA"===r||"INPUT"===r?"none":""}M98(e,i){this.#ot.M74(),e!==U&&this.#Ct(),this.#ot.M60("email")||(t("email_c1").style.display="")}#Pt(t){const e=this.#ot.M109;setTimeout(()=>{this.#ht=e.M70();const t=this.#ot.M83(U);this.#ht?t.classList.add("Active"):(t.classList.remove("Active"),this.#ot.M60(U)||this.#Ct())},250)}#Ct(){this.#mt&&this.#mt.M85(t=>t.life=0)}#bt(){this.#dt=kt.create(),this.#ut=0;const t=document.createElement("canvas");t.id="canvas_particles",t.width=window.innerWidth,t.height=window.innerHeight,t.style.zIndex=100,this.#ot.M83(U).appendChild(t),this.#pt=t.getContext("2d"),this.#ct=t,this.#mt=bt({object_stamp:ft,pool_size:256}),this.#mt.M97(t=>{t.user_data={suite:""}})}#It=1;#Lt(t){const s=(t-this.#ut)/1e3;if(this.#ut=t,this.#ht){if(s<.033&&this.#_t){const t=this.#ot.M109.M63()>>1,e=this.#ot.M109.M51()>>1,s=Math.random()*i.M89;this.#Tt([t*Math.cos(s)+window.innerWidth>>1,e*Math.sin(s)+window.innerHeight>>1])}e.M61&&(this.#_t=!this.#_t)}this.#mt.getActiveCount()>0&&(this.#mt.M85(t=>{if(!t.updateLife())return t.user_data.suite="",!1}),this.#pt.clearRect(0,0,window.innerWidth,window.innerHeight),this.#mt.M85(t=>{t.opacity=i.M79(t.age,t.life,5),t.updatePhysics(),this.#St(t)})),window.requestAnimationFrame(this.#Lt.bind(this))}#St(t){const e="suit-"+t.user_data.suite,i=this.#Mt[e];if(!i||!t.user_data.suite)return;const s=this.#pt,n=t.user_data.size||64,r=t.position[0],a=t.position[1];t.user_data.angle+=t.user_data.da;const o=t.user_data.angle;s.globalAlpha=t.opacity;const h=Math.cos(o),l=Math.sin(o);s.setTransform(h,l,-l,h,r,a),s.drawImage(i,-n/2,-n/2,n,n),s.setTransform(1,0,0,1,0,0),s.globalAlpha=1}#Tt(t){const e=this.#mt.get();if(!e)return;const s=["spades","diamonds","hearts","clubs"][i.M50(0,3)];e.config({position:t,velocity:kt.random(this.#dt,i.M34(2,6)),color:"white",life:60*i.M34(2,4),radius:30,opacity:1,fill:!0}),this.#Mt["suit-"+s],e.user_data.suite=s,e.user_data.angle=2*Math.random()*Math.PI,e.user_data.size=i.M50(64/3,64),e.user_data.da=i.M34(-10,10)/100}#vt(){const e=this.#ot.M109,i="p",s=document.createElement(i);s.classList.add("h1"),s.innerHTML="ONESIE",e.BACK.appendChild(s);const n=document.createElement(i);n.classList.add("h2"),n.innerHTML="1p card games",e.BACK.appendChild(n);const r=document.createElement(i);r.classList.add("h1"),r.innerHTML="ONESIE",e.FACE.appendChild(r);const a=document.createElement(i);a.classList.add("h2"),a.innerHTML="1p card games",e.FACE.appendChild(a);const o=["You,","a deck of cards,","and a mug<br>of your finest."];for(const t of o){const s=document.createElement(i);s.classList.add("h3"),s.innerHTML=t,e.FACE.appendChild(s)}setTimeout(()=>{e.OnFlip=this.#Pt.bind(this)},166),t("contact_form").addEventListener("submit",t=>{t.preventDefault(),t.stopImmediatePropagation(),this.#Ft()})}#Ft(){const i=t("contact_form"),n=t("form_status");if(!t("user_message").value.trim())return void(n.textContent="Message is required.");n.textContent="Sending...";const r=(new Date).toLocaleString(),a=[e.M21,e.M61,e.M42,e.M87].map(t=>t?"y":"n"),o=new FormData(i);o.append("client_time",r),o.append("client_tz",Intl.DateTimeFormat().resolvedOptions().timeZone),o.append("client_window",window.innerWidth+"x"+window.innerHeight),o.append("client_flags",a.join(" "));const h=s+e.M26("shkv4kl4sh5uvj{|yuv5vyn6vulzpl6hwp6zlukthps5wow",-7);fetch(h,{method:"POST",body:o}).then(t=>t.json()).then(t=>{t.success?(n.textContent="Message sent! Thank you.",i.reset()):n.textContent="Error: "+t.message}).catch(t=>{n.textContent="Server unreachable. Try again later."})}#kt(t){if(!this.#lt)return;const e=this.#lt.table[t];if(!e)return;const i=this.#ot.M111;this.#Kt("./suite/"+e.url+"/?key="+i),this.#zt(t)}async#zt(t){const i=s+e.M26("ujmx6mn6uj7wxl}~{wx7x{p8xwn|rn8jyr8pjvn6uxp7yqy",-9),n=new FormData;n.append("id",t);try{return(await fetch(i,{method:"POST",body:n})).ok,!0}catch(t){return!1}}#Kt=t=>{const e=Math.round(.9*window.visualViewport.width),i=Math.round(.9*window.visualViewport.height),s=(window.screen.width-e)/2,n=`width=${e},height=${i},top=${(window.screen.height-i)/2},left=${s},menubar=no,toolbar=no,location=no,status=no,resizable=yes`;window.open(t,"_top",n)};#Et(){const e=t("card-sprite-sheet");e&&e.querySelectorAll("symbol").forEach(t=>{const e=t.id,i=(t.getAttribute("viewBox"),e.includes("spades")||e.includes("clubs")?"black":"crimson");this.#Ot(e,64,i).then(t=>{this.#Mt[e]=t})})}#Ot(e,i=64,s="white"){return new Promise(n=>{const r=t(e),a=r.getAttribute("viewBox")||"0 0 512 512",o=r.innerHTML,h=`\n                <svg xmlns="http://www.w3.org/2000/svg" \n                    width="${i}" \n                    height="${i}" \n                    viewBox="${a}">\n                    <g fill="${s}">${o}</g>\n                </svg>`,l=new Image,c=new Blob([h],{type:"image/svg+xml;charset=utf-8"}),d=URL.createObjectURL(c);l.onload=()=>{URL.revokeObjectURL(d),n(l)},l.src=d})}};export{Onesie};